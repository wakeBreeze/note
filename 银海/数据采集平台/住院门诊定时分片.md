## 住院门诊定时增加分区

### 一、改造为分区表

#### 住院结算数据表(SETL_D_HOSP)

##### 1、创建同结构分区表

```sql
-- 2021/01往后分
create table SETL_D_HOSP_NEW
(
  setl_id               VARCHAR2(30),
  clr_optins            VARCHAR2(6),
  medins_setl_id        VARCHAR2(50),
  mdtrt_id              VARCHAR2(30),
  init_setl_id          VARCHAR2(30),
  psn_no                VARCHAR2(30),
  psn_insu_rlts_id      VARCHAR2(20),
  psn_name              VARCHAR2(50),
  psn_cert_type         VARCHAR2(6),
  certno                VARCHAR2(600),
  gend                  VARCHAR2(6),
  naty                  VARCHAR2(3),
  brdy                  DATE,
  age                   NUMBER(4,1),
  insutype              VARCHAR2(6),
  psn_type              VARCHAR2(6),
  cvlserv_flag          VARCHAR2(3),
  cvlserv_lv            VARCHAR2(6),
  sp_psn_type           VARCHAR2(6),
  sp_psn_type_lv        VARCHAR2(3),
  clct_grde             VARCHAR2(3),
  flxempe_flag          VARCHAR2(3),
  nwb_flag              VARCHAR2(3),
  insu_admdvs           VARCHAR2(6),
  emp_no                VARCHAR2(40),
  emp_name              VARCHAR2(200),
  emp_type              VARCHAR2(6),
  econ_type             VARCHAR2(6),
  afil_indu             VARCHAR2(6),
  afil_rlts             VARCHAR2(6),
  emp_mgt_type          VARCHAR2(6),
  pay_loc               VARCHAR2(6),
  fixmedins_code        VARCHAR2(30),
  fixmedins_name        VARCHAR2(200),
  hosp_lv               VARCHAR2(6),
  fix_blng_admdvs       VARCHAR2(6),
  lmtpric_hosp_lv       VARCHAR2(6),
  dedc_hosp_lv          VARCHAR2(6),
  begndate              DATE,
  enddate               DATE,
  setl_time             DATE,
  mdtrt_cert_type       VARCHAR2(3),
  mdtrt_cert_no         VARCHAR2(50),
  med_type              VARCHAR2(6),
  setl_type             VARCHAR2(6),
  clr_type              VARCHAR2(6),
  clr_way               VARCHAR2(6),
  psn_setlway           VARCHAR2(6),
  medfee_sumamt         NUMBER(16,2),
  fulamt_ownpay_amt     NUMBER(16,2),
  overlmt_selfpay       NUMBER(16,2),
  preselfpay_amt        NUMBER(16,2),
  inscp_amt             NUMBER(16,2),
  dedc_std              NUMBER(16,2),
  crt_dedc              NUMBER(16,2),
  act_pay_dedc          NUMBER(16,2),
  hifp_pay              NUMBER(16,2),
  pool_prop_selfpay     NUMBER(5,4),
  hi_agre_sumfee        NUMBER(16,2),
  cvlserv_pay           NUMBER(16,2),
  hifes_pay             NUMBER(16,2),
  hifmi_pay             NUMBER(16,2),
  hifob_pay             NUMBER(16,2),
  hifdm_pay             NUMBER(16,2),
  maf_pay               NUMBER(16,2),
  othfund_pay           NUMBER(16,2),
  fund_pay_sumamt       NUMBER(16,2),
  psn_pay               NUMBER(16,2),
  acct_pay              NUMBER(16,2),
  cash_payamt           NUMBER(16,2),
  ownpay_hosp_part      NUMBER(16,2),
  balc                  NUMBER(16,2),
  acct_mulaid_pay       NUMBER(16,2),
  refd_setl_flag        VARCHAR2(3),
  cal_ipt_cnt           VARCHAR2(3),
  setl_cashpay_way      VARCHAR2(6),
  year                  VARCHAR2(4),
  dise_no               VARCHAR2(30),
  dise_name             VARCHAR2(500),
  invono                VARCHAR2(200),
  manl_reim_rea         VARCHAR2(6),
  vali_flag             VARCHAR2(3),
  memo                  CLOB,
  rid                   VARCHAR2(40),
  updt_time             DATE,
  crter_id              VARCHAR2(20),
  crter_name            VARCHAR2(50),
  crte_time             DATE,
  crte_optins_no        VARCHAR2(20),
  opter_id              VARCHAR2(20),
  opter_name            VARCHAR2(50),
  opt_time              DATE,
  optins_no             VARCHAR2(20),
  poolarea_no           VARCHAR2(6),
  mid_setl_flag         VARCHAR2(3),
  acct_used_flag        VARCHAR2(3),
  quts_type             VARCHAR2(6),
  bydise_setl_payamt    NUMBER(16,2),
  exct_item_fund_payamt NUMBER(16,2)
)
PARTITION BY RANGE (UPDT_TIME)(
	partition PART202101BEFORE values less than (TO_DATE(' 2021-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202101 values less than (TO_DATE(' 2021-02-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202102 values less than (TO_DATE(' 2021-03-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202103 values less than (TO_DATE(' 2021-04-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202104 values less than (TO_DATE(' 2021-05-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202105 values less than (TO_DATE(' 2021-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202106 values less than (TO_DATE(' 2021-07-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202107 values less than (TO_DATE(' 2021-08-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202108 values less than (TO_DATE(' 2021-09-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202109 values less than (TO_DATE(' 2021-10-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202110 values less than (TO_DATE(' 2021-11-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202111 values less than (TO_DATE(' 2021-12-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    )
);
-- Add comments to the table 
comment on table SETL_D_HOSP_NEW
  is 'SETL_D_HOSP_NEW(住院结算数据表)';
-- Add comments to the columns 
comment on column SETL_D_HOSP_NEW.setl_id
  is '结算ID';
comment on column SETL_D_HOSP_NEW.clr_optins
  is '清算经办机构';
comment on column SETL_D_HOSP_NEW.medins_setl_id
  is '医药机构结算ID';
comment on column SETL_D_HOSP_NEW.mdtrt_id
  is '就诊ID';
comment on column SETL_D_HOSP_NEW.init_setl_id
  is '原结算ID';
comment on column SETL_D_HOSP_NEW.psn_no
  is '人员编号';
comment on column SETL_D_HOSP_NEW.psn_insu_rlts_id
  is '人员参保关系ID';
comment on column SETL_D_HOSP_NEW.psn_name
  is '人员姓名';
comment on column SETL_D_HOSP_NEW.psn_cert_type
  is '人员证件类型';
comment on column SETL_D_HOSP_NEW.certno
  is '证件号码';
comment on column SETL_D_HOSP_NEW.gend
  is '性别';
comment on column SETL_D_HOSP_NEW.naty
  is '民族';
comment on column SETL_D_HOSP_NEW.brdy
  is '出生日期';
comment on column SETL_D_HOSP_NEW.age
  is '年龄';
comment on column SETL_D_HOSP_NEW.insutype
  is '险种类型';
comment on column SETL_D_HOSP_NEW.psn_type
  is '人员类别';
comment on column SETL_D_HOSP_NEW.cvlserv_flag
  is '公务员标志';
comment on column SETL_D_HOSP_NEW.cvlserv_lv
  is '公务员等级';
comment on column SETL_D_HOSP_NEW.sp_psn_type
  is '特殊人员类型';
comment on column SETL_D_HOSP_NEW.sp_psn_type_lv
  is '特殊人员类型等级';
comment on column SETL_D_HOSP_NEW.clct_grde
  is '缴费档次';
comment on column SETL_D_HOSP_NEW.flxempe_flag
  is '灵活就业标志';
comment on column SETL_D_HOSP_NEW.nwb_flag
  is '新生儿标志';
comment on column SETL_D_HOSP_NEW.insu_admdvs
  is '参保所属医保区划';
comment on column SETL_D_HOSP_NEW.emp_no
  is '单位编号';
comment on column SETL_D_HOSP_NEW.emp_name
  is '单位名称';
comment on column SETL_D_HOSP_NEW.emp_type
  is '单位类型';
comment on column SETL_D_HOSP_NEW.econ_type
  is '经济类型';
comment on column SETL_D_HOSP_NEW.afil_indu
  is '所属行业';
comment on column SETL_D_HOSP_NEW.afil_rlts
  is '隶属关系';
comment on column SETL_D_HOSP_NEW.emp_mgt_type
  is '单位管理类型';
comment on column SETL_D_HOSP_NEW.pay_loc
  is '支付地点类别';
comment on column SETL_D_HOSP_NEW.fixmedins_code
  is '定点医药机构编号';
comment on column SETL_D_HOSP_NEW.fixmedins_name
  is '定点医药机构名称';
comment on column SETL_D_HOSP_NEW.hosp_lv
  is '医院等级';
comment on column SETL_D_HOSP_NEW.fix_blng_admdvs
  is '定点归属医保区划';
comment on column SETL_D_HOSP_NEW.lmtpric_hosp_lv
  is '限价医院等级';
comment on column SETL_D_HOSP_NEW.dedc_hosp_lv
  is '起付线医院等级';
comment on column SETL_D_HOSP_NEW.begndate
  is '开始日期';
comment on column SETL_D_HOSP_NEW.enddate
  is '结束日期';
comment on column SETL_D_HOSP_NEW.setl_time
  is '结算时间';
comment on column SETL_D_HOSP_NEW.mdtrt_cert_type
  is '就诊凭证类型';
comment on column SETL_D_HOSP_NEW.mdtrt_cert_no
  is '就诊凭证编号';
comment on column SETL_D_HOSP_NEW.med_type
  is '医疗类别';
comment on column SETL_D_HOSP_NEW.setl_type
  is '结算类别';
comment on column SETL_D_HOSP_NEW.clr_type
  is '清算类别';
comment on column SETL_D_HOSP_NEW.clr_way
  is '清算方式';
comment on column SETL_D_HOSP_NEW.psn_setlway
  is '个人结算方式';
comment on column SETL_D_HOSP_NEW.medfee_sumamt
  is '医疗费总额';
comment on column SETL_D_HOSP_NEW.fulamt_ownpay_amt
  is '全自费金额';
comment on column SETL_D_HOSP_NEW.overlmt_selfpay
  is '超限价自费费用';
comment on column SETL_D_HOSP_NEW.preselfpay_amt
  is '先行自付金额';
comment on column SETL_D_HOSP_NEW.inscp_amt
  is '符合范围金额';
comment on column SETL_D_HOSP_NEW.dedc_std
  is '起付标准';
comment on column SETL_D_HOSP_NEW.crt_dedc
  is '本次起付线';
comment on column SETL_D_HOSP_NEW.act_pay_dedc
  is '实际支付起付线';
comment on column SETL_D_HOSP_NEW.hifp_pay
  is '统筹基金支出';
comment on column SETL_D_HOSP_NEW.pool_prop_selfpay
  is '基本医疗统筹支付比例';
comment on column SETL_D_HOSP_NEW.hi_agre_sumfee
  is '医保认可费用总额';
comment on column SETL_D_HOSP_NEW.cvlserv_pay
  is '公务员医疗补助资金支出';
comment on column SETL_D_HOSP_NEW.hifes_pay
  is '补充医疗保险基金支出';
comment on column SETL_D_HOSP_NEW.hifmi_pay
  is '大病补充医疗保险基金支出';
comment on column SETL_D_HOSP_NEW.hifob_pay
  is '大额医疗补助基金支出';
comment on column SETL_D_HOSP_NEW.hifdm_pay
  is '伤残人员医疗保障基金支出';
comment on column SETL_D_HOSP_NEW.maf_pay
  is '医疗救助基金支出';
comment on column SETL_D_HOSP_NEW.othfund_pay
  is '其它基金支付';
comment on column SETL_D_HOSP_NEW.fund_pay_sumamt
  is '基金支付总额';
comment on column SETL_D_HOSP_NEW.psn_pay
  is '个人支付金额';
comment on column SETL_D_HOSP_NEW.acct_pay
  is '个人账户支出';
comment on column SETL_D_HOSP_NEW.cash_payamt
  is '现金支付金额';
comment on column SETL_D_HOSP_NEW.ownpay_hosp_part
  is '自费中医院负担部分';
comment on column SETL_D_HOSP_NEW.balc
  is '余额';
comment on column SETL_D_HOSP_NEW.acct_mulaid_pay
  is '账户共济支付金额';
comment on column SETL_D_HOSP_NEW.refd_setl_flag
  is '退费结算标志';
comment on column SETL_D_HOSP_NEW.cal_ipt_cnt
  is '计算住院次数标志';
comment on column SETL_D_HOSP_NEW.setl_cashpay_way
  is '结算现金支付方式';
comment on column SETL_D_HOSP_NEW.year
  is '年度';
comment on column SETL_D_HOSP_NEW.dise_no
  is '病种编号';
comment on column SETL_D_HOSP_NEW.dise_name
  is '病种名称';
comment on column SETL_D_HOSP_NEW.invono
  is '发票号';
comment on column SETL_D_HOSP_NEW.manl_reim_rea
  is '零星报销原因';
comment on column SETL_D_HOSP_NEW.vali_flag
  is '有效标志';
comment on column SETL_D_HOSP_NEW.memo
  is '备注';
comment on column SETL_D_HOSP_NEW.rid
  is '数据唯一记录号';
comment on column SETL_D_HOSP_NEW.updt_time
  is '数据更新时间';
comment on column SETL_D_HOSP_NEW.crter_id
  is '创建人ID';
comment on column SETL_D_HOSP_NEW.crter_name
  is '创建人姓名';
comment on column SETL_D_HOSP_NEW.crte_time
  is '数据创建时间';
comment on column SETL_D_HOSP_NEW.crte_optins_no
  is '创建机构编号';
comment on column SETL_D_HOSP_NEW.opter_id
  is '经办人ID';
comment on column SETL_D_HOSP_NEW.opter_name
  is '经办人姓名';
comment on column SETL_D_HOSP_NEW.opt_time
  is '经办时间';
comment on column SETL_D_HOSP_NEW.optins_no
  is '经办机构编号';
comment on column SETL_D_HOSP_NEW.poolarea_no
  is '统筹区编号';
comment on column SETL_D_HOSP_NEW.mid_setl_flag
  is '中途结算标志';
comment on column SETL_D_HOSP_NEW.acct_used_flag
  is '账户使用标志';
comment on column SETL_D_HOSP_NEW.quts_type
  is '编制类型';
comment on column SETL_D_HOSP_NEW.bydise_setl_payamt
  is '按病种结算支付金额';
comment on column SETL_D_HOSP_NEW.exct_item_fund_payamt
  is '除外项目基金支付金额';
-- Grant/Revoke object privileges 
grant select on SETL_D_HOSP_NEW to DRGSPLATFORM_SQ;
```



##### 2、复制原表数据到分区表

```sql
INSERT INTO SETL_D_HOSP_NEW SELECT * FROM SETL_D_HOSP;
```



##### 3、重命名表

```sql
RENAME SETL_D_HOSP TO SETL_D_HOSP_OLD;
RENAME SETL_D_HOSP_NEW TO SETL_D_HOSP;
```



##### 4、查看表数据是否一致

```sql
select count(*) from SETL_D_HOSP;
select count(*) from SETL_D_HOSP_OLD;
```



#### 门诊结算数据表(SETL_D_OUTPATIENT)

##### 1、创建同结构分区表

```sql
-- Create table
create table SETL_D_OUTPATIENT_NEW
(
  setl_id               VARCHAR2(30),
  clr_optins            VARCHAR2(6),
  medins_setl_id        VARCHAR2(50),
  mdtrt_id              VARCHAR2(30),
  init_setl_id          VARCHAR2(30),
  psn_no                VARCHAR2(30),
  psn_insu_rlts_id      VARCHAR2(20),
  psn_name              VARCHAR2(50),
  psn_cert_type         VARCHAR2(6),
  certno                VARCHAR2(600),
  gend                  VARCHAR2(6),
  naty                  VARCHAR2(3),
  brdy                  DATE,
  age                   NUMBER(4,1),
  insutype              VARCHAR2(6),
  psn_type              VARCHAR2(6),
  cvlserv_flag          VARCHAR2(3),
  cvlserv_lv            VARCHAR2(6),
  sp_psn_type           VARCHAR2(6),
  sp_psn_type_lv        VARCHAR2(3),
  clct_grde             VARCHAR2(3),
  flxempe_flag          VARCHAR2(3),
  nwb_flag              VARCHAR2(3),
  insu_admdvs           VARCHAR2(6),
  emp_no                VARCHAR2(40),
  emp_name              VARCHAR2(200),
  emp_type              VARCHAR2(6),
  econ_type             VARCHAR2(6),
  afil_indu             VARCHAR2(6),
  afil_rlts             VARCHAR2(6),
  emp_mgt_type          VARCHAR2(6),
  pay_loc               VARCHAR2(6),
  fixmedins_code        VARCHAR2(30),
  fixmedins_name        VARCHAR2(200),
  hosp_lv               VARCHAR2(6),
  fix_blng_admdvs       VARCHAR2(6),
  lmtpric_hosp_lv       VARCHAR2(6),
  dedc_hosp_lv          VARCHAR2(6),
  begndate              DATE,
  enddate               DATE,
  setl_time             DATE,
  mdtrt_cert_type       VARCHAR2(3),
  mdtrt_cert_no         VARCHAR2(50),
  med_type              VARCHAR2(6),
  setl_type             VARCHAR2(6),
  clr_type              VARCHAR2(6),
  clr_way               VARCHAR2(6),
  psn_setlway           VARCHAR2(6),
  medfee_sumamt         NUMBER(16,2),
  fulamt_ownpay_amt     NUMBER(16,2),
  overlmt_selfpay       NUMBER(16,2),
  preselfpay_amt        NUMBER(16,2),
  inscp_amt             NUMBER(16,2),
  dedc_std              NUMBER(16,2),
  crt_dedc              NUMBER(16,2),
  act_pay_dedc          NUMBER(16,2),
  hifp_pay              NUMBER(16,2),
  pool_prop_selfpay     NUMBER(5,4),
  hi_agre_sumfee        NUMBER(16,2),
  cvlserv_pay           NUMBER(16,2),
  hifes_pay             NUMBER(16,2),
  hifmi_pay             NUMBER(16,2),
  hifob_pay             NUMBER(16,2),
  hifdm_pay             NUMBER(16,2),
  maf_pay               NUMBER(16,2),
  othfund_pay           NUMBER(16,2),
  fund_pay_sumamt       NUMBER(16,2),
  psn_pay               NUMBER(16,2),
  acct_pay              NUMBER(16,2),
  cash_payamt           NUMBER(16,2),
  ownpay_hosp_part      NUMBER(16,2),
  balc                  NUMBER(16,2),
  acct_mulaid_pay       NUMBER(16,2),
  refd_setl_flag        VARCHAR2(3),
  cal_ipt_cnt           VARCHAR2(3),
  setl_cashpay_way      VARCHAR2(6),
  year                  VARCHAR2(4),
  dise_no               VARCHAR2(30),
  dise_name             VARCHAR2(500),
  invono                VARCHAR2(200),
  manl_reim_rea         VARCHAR2(6),
  vali_flag             VARCHAR2(3),
  memo                  CLOB,
  rid                   VARCHAR2(40),
  updt_time             DATE,
  crter_id              VARCHAR2(20),
  crter_name            VARCHAR2(50),
  crte_time             DATE,
  crte_optins_no        VARCHAR2(20),
  opter_id              VARCHAR2(20),
  opter_name            VARCHAR2(50),
  opt_time              DATE,
  optins_no             VARCHAR2(20),
  poolarea_no           VARCHAR2(6),
  mid_setl_flag         VARCHAR2(3),
  acct_used_flag        VARCHAR2(3),
  quts_type             VARCHAR2(6),
  bydise_setl_payamt    NUMBER(16,2),
  exct_item_fund_payamt NUMBER(16,2)
)
PARTITION BY RANGE (UPDT_TIME)(
	partition PART202101BEFORE values less than (TO_DATE(' 2021-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202101 values less than (TO_DATE(' 2021-02-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202102 values less than (TO_DATE(' 2021-03-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202103 values less than (TO_DATE(' 2021-04-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202104 values less than (TO_DATE(' 2021-05-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202105 values less than (TO_DATE(' 2021-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202106 values less than (TO_DATE(' 2021-07-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202107 values less than (TO_DATE(' 2021-08-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202108 values less than (TO_DATE(' 2021-09-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202109 values less than (TO_DATE(' 2021-10-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202110 values less than (TO_DATE(' 2021-11-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202111 values less than (TO_DATE(' 2021-12-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    )
);
-- Add comments to the table 
comment on table SETL_D_OUTPATIENT_NEW
  is 'SETL_D_OUTPATIENT_NEW(门诊结算数据表)';
-- Add comments to the columns 
comment on column SETL_D_OUTPATIENT_NEW.setl_id
  is '结算ID';
comment on column SETL_D_OUTPATIENT_NEW.clr_optins
  is '清算经办机构';
comment on column SETL_D_OUTPATIENT_NEW.medins_setl_id
  is '医药机构结算ID';
comment on column SETL_D_OUTPATIENT_NEW.mdtrt_id
  is '就诊ID';
comment on column SETL_D_OUTPATIENT_NEW.init_setl_id
  is '原结算ID';
comment on column SETL_D_OUTPATIENT_NEW.psn_no
  is '人员编号';
comment on column SETL_D_OUTPATIENT_NEW.psn_insu_rlts_id
  is '人员参保关系ID';
comment on column SETL_D_OUTPATIENT_NEW.psn_name
  is '人员姓名';
comment on column SETL_D_OUTPATIENT_NEW.psn_cert_type
  is '人员证件类型';
comment on column SETL_D_OUTPATIENT_NEW.certno
  is '证件号码';
comment on column SETL_D_OUTPATIENT_NEW.gend
  is '性别';
comment on column SETL_D_OUTPATIENT_NEW.naty
  is '民族';
comment on column SETL_D_OUTPATIENT_NEW.brdy
  is '出生日期';
comment on column SETL_D_OUTPATIENT_NEW.age
  is '年龄';
comment on column SETL_D_OUTPATIENT_NEW.insutype
  is '险种类型';
comment on column SETL_D_OUTPATIENT_NEW.psn_type
  is '人员类别';
comment on column SETL_D_OUTPATIENT_NEW.cvlserv_flag
  is '公务员标志';
comment on column SETL_D_OUTPATIENT_NEW.cvlserv_lv
  is '公务员等级';
comment on column SETL_D_OUTPATIENT_NEW.sp_psn_type
  is '特殊人员类型';
comment on column SETL_D_OUTPATIENT_NEW.sp_psn_type_lv
  is '特殊人员类型等级';
comment on column SETL_D_OUTPATIENT_NEW.clct_grde
  is '缴费档次';
comment on column SETL_D_OUTPATIENT_NEW.flxempe_flag
  is '灵活就业标志';
comment on column SETL_D_OUTPATIENT_NEW.nwb_flag
  is '新生儿标志';
comment on column SETL_D_OUTPATIENT_NEW.insu_admdvs
  is '参保所属医保区划';
comment on column SETL_D_OUTPATIENT_NEW.emp_no
  is '单位编号';
comment on column SETL_D_OUTPATIENT_NEW.emp_name
  is '单位名称';
comment on column SETL_D_OUTPATIENT_NEW.emp_type
  is '单位类型';
comment on column SETL_D_OUTPATIENT_NEW.econ_type
  is '经济类型';
comment on column SETL_D_OUTPATIENT_NEW.afil_indu
  is '所属行业';
comment on column SETL_D_OUTPATIENT_NEW.afil_rlts
  is '隶属关系';
comment on column SETL_D_OUTPATIENT_NEW.emp_mgt_type
  is '单位管理类型';
comment on column SETL_D_OUTPATIENT_NEW.pay_loc
  is '支付地点类别';
comment on column SETL_D_OUTPATIENT_NEW.fixmedins_code
  is '定点医药机构编号';
comment on column SETL_D_OUTPATIENT_NEW.fixmedins_name
  is '定点医药机构名称';
comment on column SETL_D_OUTPATIENT_NEW.hosp_lv
  is '医院等级';
comment on column SETL_D_OUTPATIENT_NEW.fix_blng_admdvs
  is '定点归属医保区划';
comment on column SETL_D_OUTPATIENT_NEW.lmtpric_hosp_lv
  is '限价医院等级';
comment on column SETL_D_OUTPATIENT_NEW.dedc_hosp_lv
  is '起付线医院等级';
comment on column SETL_D_OUTPATIENT_NEW.begndate
  is '开始日期';
comment on column SETL_D_OUTPATIENT_NEW.enddate
  is '结束日期';
comment on column SETL_D_OUTPATIENT_NEW.setl_time
  is '结算时间';
comment on column SETL_D_OUTPATIENT_NEW.mdtrt_cert_type
  is '就诊凭证类型';
comment on column SETL_D_OUTPATIENT_NEW.mdtrt_cert_no
  is '就诊凭证编号';
comment on column SETL_D_OUTPATIENT_NEW.med_type
  is '医疗类别';
comment on column SETL_D_OUTPATIENT_NEW.setl_type
  is '结算类别';
comment on column SETL_D_OUTPATIENT_NEW.clr_type
  is '清算类别';
comment on column SETL_D_OUTPATIENT_NEW.clr_way
  is '清算方式';
comment on column SETL_D_OUTPATIENT_NEW.psn_setlway
  is '个人结算方式';
comment on column SETL_D_OUTPATIENT_NEW.medfee_sumamt
  is '医疗费总额';
comment on column SETL_D_OUTPATIENT_NEW.fulamt_ownpay_amt
  is '全自费金额';
comment on column SETL_D_OUTPATIENT_NEW.overlmt_selfpay
  is '超限价自费费用';
comment on column SETL_D_OUTPATIENT_NEW.preselfpay_amt
  is '先行自付金额';
comment on column SETL_D_OUTPATIENT_NEW.inscp_amt
  is '符合范围金额';
comment on column SETL_D_OUTPATIENT_NEW.dedc_std
  is '起付标准';
comment on column SETL_D_OUTPATIENT_NEW.crt_dedc
  is '本次起付线';
comment on column SETL_D_OUTPATIENT_NEW.act_pay_dedc
  is '实际支付起付线';
comment on column SETL_D_OUTPATIENT_NEW.hifp_pay
  is '统筹基金支出';
comment on column SETL_D_OUTPATIENT_NEW.pool_prop_selfpay
  is '基本医疗统筹支付比例';
comment on column SETL_D_OUTPATIENT_NEW.hi_agre_sumfee
  is '医保认可费用总额';
comment on column SETL_D_OUTPATIENT_NEW.cvlserv_pay
  is '公务员医疗补助资金支出';
comment on column SETL_D_OUTPATIENT_NEW.hifes_pay
  is '补充医疗保险基金支出';
comment on column SETL_D_OUTPATIENT_NEW.hifmi_pay
  is '大病补充医疗保险基金支出';
comment on column SETL_D_OUTPATIENT_NEW.hifob_pay
  is '大额医疗补助基金支出';
comment on column SETL_D_OUTPATIENT_NEW.hifdm_pay
  is '伤残人员医疗保障基金支出';
comment on column SETL_D_OUTPATIENT_NEW.maf_pay
  is '医疗救助基金支出';
comment on column SETL_D_OUTPATIENT_NEW.othfund_pay
  is '其它基金支付';
comment on column SETL_D_OUTPATIENT_NEW.fund_pay_sumamt
  is '基金支付总额';
comment on column SETL_D_OUTPATIENT_NEW.psn_pay
  is '个人支付金额';
comment on column SETL_D_OUTPATIENT_NEW.acct_pay
  is '个人账户支出';
comment on column SETL_D_OUTPATIENT_NEW.cash_payamt
  is '现金支付金额';
comment on column SETL_D_OUTPATIENT_NEW.ownpay_hosp_part
  is '自费中医院负担部分';
comment on column SETL_D_OUTPATIENT_NEW.balc
  is '余额';
comment on column SETL_D_OUTPATIENT_NEW.acct_mulaid_pay
  is '账户共济支付金额';
comment on column SETL_D_OUTPATIENT_NEW.refd_setl_flag
  is '退费结算标志';
comment on column SETL_D_OUTPATIENT_NEW.cal_ipt_cnt
  is '计算住院次数标志';
comment on column SETL_D_OUTPATIENT_NEW.setl_cashpay_way
  is '结算现金支付方式';
comment on column SETL_D_OUTPATIENT_NEW.year
  is '年度';
comment on column SETL_D_OUTPATIENT_NEW.dise_no
  is '病种编号';
comment on column SETL_D_OUTPATIENT_NEW.dise_name
  is '病种名称';
comment on column SETL_D_OUTPATIENT_NEW.invono
  is '发票号';
comment on column SETL_D_OUTPATIENT_NEW.manl_reim_rea
  is '零星报销原因';
comment on column SETL_D_OUTPATIENT_NEW.vali_flag
  is '有效标志';
comment on column SETL_D_OUTPATIENT_NEW.memo
  is '备注';
comment on column SETL_D_OUTPATIENT_NEW.rid
  is '数据唯一记录号';
comment on column SETL_D_OUTPATIENT_NEW.updt_time
  is '数据更新时间';
comment on column SETL_D_OUTPATIENT_NEW.crter_id
  is '创建人ID';
comment on column SETL_D_OUTPATIENT_NEW.crter_name
  is '创建人姓名';
comment on column SETL_D_OUTPATIENT_NEW.crte_time
  is '数据创建时间';
comment on column SETL_D_OUTPATIENT_NEW.crte_optins_no
  is '创建机构编号';
comment on column SETL_D_OUTPATIENT_NEW.opter_id
  is '经办人ID';
comment on column SETL_D_OUTPATIENT_NEW.opter_name
  is '经办人姓名';
comment on column SETL_D_OUTPATIENT_NEW.opt_time
  is '经办时间';
comment on column SETL_D_OUTPATIENT_NEW.optins_no
  is '经办机构编号';
comment on column SETL_D_OUTPATIENT_NEW.poolarea_no
  is '统筹区编号';
comment on column SETL_D_OUTPATIENT_NEW.mid_setl_flag
  is '中途结算标志';
comment on column SETL_D_OUTPATIENT_NEW.acct_used_flag
  is '账户使用标志';
comment on column SETL_D_OUTPATIENT_NEW.quts_type
  is '编制类型';
comment on column SETL_D_OUTPATIENT_NEW.bydise_setl_payamt
  is '按病种结算支付金额';
comment on column SETL_D_OUTPATIENT_NEW.exct_item_fund_payamt
  is '除外项目基金支付金额';
-- Grant/Revoke object privileges 
grant select on SETL_D_OUTPATIENT_NEW to DRGSPLATFORM_SQ;
```



##### 2、复制原表数据到分区表

```sql
INSERT INTO SETL_D_OUTPATIENT_NEW SELECT * FROM SETL_D_OUTPATIENT;
```



##### 3、重命名表

```sql
RENAME SETL_D_OUTPATIENT TO SETL_D_OUTPATIENT_OLD;
RENAME SETL_D_OUTPATIENT_NEW TO SETL_D_OUTPATIENT;
```



##### 4、查看表数据是否一致

```sql
select count(*) from SETL_D_OUTPATIENT;
select count(*) from SETL_D_OUTPATIENT_OLD;
```



#### 住院费用明细表(FEE_LIST_D_HOSP)

##### 1、创建同结构分区表

```sql
-- Create table
create table FEE_LIST_D_HOSP_NEW
(
  bkkp_sn             VARCHAR2(30),
  mdtrt_id            VARCHAR2(30),
  fee_ocur_time       DATE,
  setl_id             VARCHAR2(30),
  rx_drord_no         VARCHAR2(30),
  fixmedins_code      VARCHAR2(30),
  fixmedins_name      VARCHAR2(200),
  psn_no              VARCHAR2(30),
  psn_insu_rlts_id    VARCHAR2(20),
  insu_admdvs         VARCHAR2(6),
  pay_loc             VARCHAR2(6),
  med_type            VARCHAR2(6),
  cnt                 NUMBER(16,4),
  pric                NUMBER(16,6),
  det_item_fee_sumamt NUMBER(16,2),
  pric_uplmt_amt      NUMBER(16,6),
  selfpay_prop        NUMBER(5,4),
  fulamt_ownpay_amt   NUMBER(16,2),
  overlmt_selfpay     NUMBER(16,2),
  preselfpay_amt      NUMBER(16,2),
  inscp_amt           NUMBER(16,2),
  cvlserv_bedfee_amt  NUMBER(16,2),
  medins_disc_amt     NUMBER(16,2),
  chrgitm_lv          VARCHAR2(3),
  hilist_code         VARCHAR2(50),
  hilist_name         VARCHAR2(200),
  list_type           VARCHAR2(6),
  med_list_codg       VARCHAR2(50),
  medins_list_codg    VARCHAR2(150),
  med_chrgitm_type    VARCHAR2(6),
  prodname            VARCHAR2(2000),
  spec                VARCHAR2(200),
  dosform_name        VARCHAR2(200),
  bilg_dept_codg      VARCHAR2(30),
  bilg_dept_name      VARCHAR2(100),
  bilg_dr_code        VARCHAR2(30),
  bilg_dr_name        VARCHAR2(50),
  acord_dept_codg     VARCHAR2(30),
  acord_dept_name     VARCHAR2(100),
  acord_dr_code       VARCHAR2(30),
  acord_dr_name       VARCHAR2(50),
  lmt_used_flag       VARCHAR2(3),
  hosp_prep_flag      VARCHAR2(3),
  hosp_appr_flag      VARCHAR2(3),
  tcmdrug_used_way    VARCHAR2(6),
  prodplac_type       VARCHAR2(6),
  bas_medn_flag       VARCHAR2(3),
  hi_nego_drug_flag   VARCHAR2(3),
  prcu_drug_flag      VARCHAR2(3),
  chld_medc_flag      VARCHAR2(3),
  etip_flag           VARCHAR2(3),
  etip_hosp_code      VARCHAR2(30),
  dscg_tkdrug_flag    VARCHAR2(3),
  list_sp_item_flag   VARCHAR2(3),
  matn_fee_flag       VARCHAR2(6),
  drt_reim_flag       VARCHAR2(3),
  reim_prop           NUMBER(5,4),
  oprn_oprt_code      VARCHAR2(30),
  sin_dos_dscr        VARCHAR2(200),
  used_frqu_dscr      VARCHAR2(200),
  prd_days            NUMBER(6,2),
  medc_way_dscr       VARCHAR2(200),
  memo                CLOB,
  vali_flag           VARCHAR2(3),
  rid                 VARCHAR2(40),
  updt_time           DATE,
  crter_id            VARCHAR2(20),
  crter_name          VARCHAR2(50),
  crte_time           DATE,
  crte_optins_no      VARCHAR2(20),
  opter_id            VARCHAR2(20),
  opter_name          VARCHAR2(50),
  opt_time            DATE,
  optins_no           VARCHAR2(20),
  poolarea_no         VARCHAR2(6),
  rx_circ_flag        VARCHAR2(3),
  dise_codg           VARCHAR2(30),
  chrg_bchno          VARCHAR2(30),
  init_feedetl_sn     VARCHAR2(30),
  comb_no             VARCHAR2(3),
  medins_list_name    VARCHAR2(120)
)
PARTITION BY RANGE (UPDT_TIME)(
    partition PART202001BEFORE values less than (TO_DATE(' 2020-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202001 values less than (TO_DATE(' 2020-02-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202002 values less than (TO_DATE(' 2020-03-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202003 values less than (TO_DATE(' 2020-04-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202004 values less than (TO_DATE(' 2020-05-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202005 values less than (TO_DATE(' 2020-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202006 values less than (TO_DATE(' 2020-07-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202007 values less than (TO_DATE(' 2020-08-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202008 values less than (TO_DATE(' 2020-09-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202009 values less than (TO_DATE(' 2020-10-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202010 values less than (TO_DATE(' 2020-11-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202011 values less than (TO_DATE(' 2020-12-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202012 values less than (TO_DATE(' 2021-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202101 values less than (TO_DATE(' 2021-02-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202102 values less than (TO_DATE(' 2021-03-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202103 values less than (TO_DATE(' 2021-04-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202104 values less than (TO_DATE(' 2021-05-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202105 values less than (TO_DATE(' 2021-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202106 values less than (TO_DATE(' 2021-07-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202107 values less than (TO_DATE(' 2021-08-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202108 values less than (TO_DATE(' 2021-09-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202109 values less than (TO_DATE(' 2021-10-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202110 values less than (TO_DATE(' 2021-11-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202111 values less than (TO_DATE(' 2021-12-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    )
);
-- Add comments to the table 
comment on table FEE_LIST_D_HOSP_NEW
  is '住院费用明细表';
-- Add comments to the columns 
comment on column FEE_LIST_D_HOSP_NEW.bkkp_sn
  is '记账流水号';
comment on column FEE_LIST_D_HOSP_NEW.mdtrt_id
  is '就诊ID';
comment on column FEE_LIST_D_HOSP_NEW.fee_ocur_time
  is '费用发生时间';
comment on column FEE_LIST_D_HOSP_NEW.setl_id
  is '结算ID';
comment on column FEE_LIST_D_HOSP_NEW.rx_drord_no
  is '处方医嘱号';
comment on column FEE_LIST_D_HOSP_NEW.fixmedins_code
  is '定点医药机构编号';
comment on column FEE_LIST_D_HOSP_NEW.fixmedins_name
  is '定点医药机构名称';
comment on column FEE_LIST_D_HOSP_NEW.psn_no
  is '人员编号';
comment on column FEE_LIST_D_HOSP_NEW.psn_insu_rlts_id
  is '人员参保关系ID';
comment on column FEE_LIST_D_HOSP_NEW.insu_admdvs
  is '参保所属医保区划';
comment on column FEE_LIST_D_HOSP_NEW.pay_loc
  is '支付地点类别';
comment on column FEE_LIST_D_HOSP_NEW.med_type
  is '医疗类别';
comment on column FEE_LIST_D_HOSP_NEW.cnt
  is '数量';
comment on column FEE_LIST_D_HOSP_NEW.pric
  is '单价';
comment on column FEE_LIST_D_HOSP_NEW.det_item_fee_sumamt
  is '明细项目费用总额';
comment on column FEE_LIST_D_HOSP_NEW.pric_uplmt_amt
  is '定价上限金额';
comment on column FEE_LIST_D_HOSP_NEW.selfpay_prop
  is '自付比例';
comment on column FEE_LIST_D_HOSP_NEW.fulamt_ownpay_amt
  is '全自费金额';
comment on column FEE_LIST_D_HOSP_NEW.overlmt_selfpay
  is '超限价自费费用';
comment on column FEE_LIST_D_HOSP_NEW.preselfpay_amt
  is '先行自付金额';
comment on column FEE_LIST_D_HOSP_NEW.inscp_amt
  is '符合范围金额';
comment on column FEE_LIST_D_HOSP_NEW.cvlserv_bedfee_amt
  is '公务员床位费金额';
comment on column FEE_LIST_D_HOSP_NEW.medins_disc_amt
  is '医院减免金额';
comment on column FEE_LIST_D_HOSP_NEW.chrgitm_lv
  is '收费项目等级';
comment on column FEE_LIST_D_HOSP_NEW.hilist_code
  is '医保目录编码';
comment on column FEE_LIST_D_HOSP_NEW.hilist_name
  is '医保目录名称';
comment on column FEE_LIST_D_HOSP_NEW.list_type
  is '目录类别';
comment on column FEE_LIST_D_HOSP_NEW.med_list_codg
  is '医疗目录编码';
comment on column FEE_LIST_D_HOSP_NEW.medins_list_codg
  is '医药机构目录编码';
comment on column FEE_LIST_D_HOSP_NEW.med_chrgitm_type
  is '医疗收费项目类别';
comment on column FEE_LIST_D_HOSP_NEW.prodname
  is '商品名';
comment on column FEE_LIST_D_HOSP_NEW.spec
  is '规格';
comment on column FEE_LIST_D_HOSP_NEW.dosform_name
  is '剂型名称';
comment on column FEE_LIST_D_HOSP_NEW.bilg_dept_codg
  is '开单科室编码';
comment on column FEE_LIST_D_HOSP_NEW.bilg_dept_name
  is '开单科室名称';
comment on column FEE_LIST_D_HOSP_NEW.bilg_dr_code
  is '开单医师代码';
comment on column FEE_LIST_D_HOSP_NEW.bilg_dr_name
  is '开单医师姓名';
comment on column FEE_LIST_D_HOSP_NEW.acord_dept_codg
  is '受单科室编码';
comment on column FEE_LIST_D_HOSP_NEW.acord_dept_name
  is '受单科室名称';
comment on column FEE_LIST_D_HOSP_NEW.acord_dr_code
  is '受单医师代码';
comment on column FEE_LIST_D_HOSP_NEW.acord_dr_name
  is '受单医师姓名';
comment on column FEE_LIST_D_HOSP_NEW.lmt_used_flag
  is '限制使用标志';
comment on column FEE_LIST_D_HOSP_NEW.hosp_prep_flag
  is '医院制剂标志';
comment on column FEE_LIST_D_HOSP_NEW.hosp_appr_flag
  is '医院审批标志';
comment on column FEE_LIST_D_HOSP_NEW.tcmdrug_used_way
  is '中药使用方式';
comment on column FEE_LIST_D_HOSP_NEW.prodplac_type
  is '生产地类别';
comment on column FEE_LIST_D_HOSP_NEW.bas_medn_flag
  is '基本药物标志';
comment on column FEE_LIST_D_HOSP_NEW.hi_nego_drug_flag
  is '医保谈判药品标志';
comment on column FEE_LIST_D_HOSP_NEW.prcu_drug_flag
  is '贵重药品标志';
comment on column FEE_LIST_D_HOSP_NEW.chld_medc_flag
  is '儿童用药标志';
comment on column FEE_LIST_D_HOSP_NEW.etip_flag
  is '外检标志';
comment on column FEE_LIST_D_HOSP_NEW.etip_hosp_code
  is '外检医院编码';
comment on column FEE_LIST_D_HOSP_NEW.dscg_tkdrug_flag
  is '出院带药标志';
comment on column FEE_LIST_D_HOSP_NEW.list_sp_item_flag
  is '目录特项标志';
comment on column FEE_LIST_D_HOSP_NEW.matn_fee_flag
  is '生育费用标志';
comment on column FEE_LIST_D_HOSP_NEW.drt_reim_flag
  is '直报标志';
comment on column FEE_LIST_D_HOSP_NEW.reim_prop
  is '报销比例';
comment on column FEE_LIST_D_HOSP_NEW.oprn_oprt_code
  is '手术操作代码';
comment on column FEE_LIST_D_HOSP_NEW.sin_dos_dscr
  is '单次剂量描述';
comment on column FEE_LIST_D_HOSP_NEW.used_frqu_dscr
  is '使用频次描述';
comment on column FEE_LIST_D_HOSP_NEW.prd_days
  is '周期天数';
comment on column FEE_LIST_D_HOSP_NEW.medc_way_dscr
  is '用药途径描述';
comment on column FEE_LIST_D_HOSP_NEW.memo
  is '备注';
comment on column FEE_LIST_D_HOSP_NEW.vali_flag
  is '有效标志';
comment on column FEE_LIST_D_HOSP_NEW.rid
  is '数据唯一记录号';
comment on column FEE_LIST_D_HOSP_NEW.updt_time
  is '数据更新时间';
comment on column FEE_LIST_D_HOSP_NEW.crter_id
  is '创建人ID';
comment on column FEE_LIST_D_HOSP_NEW.crter_name
  is '创建人姓名';
comment on column FEE_LIST_D_HOSP_NEW.crte_time
  is '数据创建时间';
comment on column FEE_LIST_D_HOSP_NEW.crte_optins_no
  is '创建机构编号';
comment on column FEE_LIST_D_HOSP_NEW.opter_id
  is '经办人ID';
comment on column FEE_LIST_D_HOSP_NEW.opter_name
  is '经办人姓名';
comment on column FEE_LIST_D_HOSP_NEW.opt_time
  is '经办时间';
comment on column FEE_LIST_D_HOSP_NEW.optins_no
  is '经办机构编号';
comment on column FEE_LIST_D_HOSP_NEW.poolarea_no
  is '统筹区编号';
comment on column FEE_LIST_D_HOSP_NEW.rx_circ_flag
  is '处方流转标志';
comment on column FEE_LIST_D_HOSP_NEW.dise_codg
  is '病种编码';
comment on column FEE_LIST_D_HOSP_NEW.chrg_bchno
  is '收费批次号';
comment on column FEE_LIST_D_HOSP_NEW.init_feedetl_sn
  is '原费用明细流水号';
comment on column FEE_LIST_D_HOSP_NEW.comb_no
  is '组套编号';
comment on column FEE_LIST_D_HOSP_NEW.medins_list_name
  is '医药机构目录名称';
-- Grant/Revoke object privileges 
grant select on FEE_LIST_D_HOSP_NEW to DRGSPLATFORM_SQ;
```



##### 2、复制原表数据到分区表

```sql
INSERT INTO FEE_LIST_D_HOSP_NEW SELECT * FROM FEE_LIST_D_HOSP;
```



##### 3、重命名表

```sql
RENAME FEE_LIST_D_HOSP TO FEE_LIST_D_HOSP_OLD;
RENAME FEE_LIST_D_HOSP_NEW TO FEE_LIST_D_HOSP;
```



##### 4、查看表数据是否一致

```sql
select count(*) from FEE_LIST_D_HOSP;
select count(*) from FEE_LIST_D_HOSP_OLD;
```



#### 门诊费用明细表(FEE_LIST_D_OUTPATIENT)

##### 1、创建同结构分区表

```sql
-- Create table
create table FEE_LIST_D_OUTPATIENT_NEW
(
  bkkp_sn             VARCHAR2(30),
  mdtrt_id            VARCHAR2(30),
  fee_ocur_time       DATE,
  setl_id             VARCHAR2(30),
  rx_drord_no         VARCHAR2(30),
  fixmedins_code      VARCHAR2(30),
  fixmedins_name      VARCHAR2(200),
  psn_no              VARCHAR2(30),
  psn_insu_rlts_id    VARCHAR2(20),
  insu_admdvs         VARCHAR2(6),
  pay_loc             VARCHAR2(6),
  med_type            VARCHAR2(6),
  cnt                 NUMBER(16,4),
  pric                NUMBER(16,6),
  det_item_fee_sumamt NUMBER(16,2),
  pric_uplmt_amt      NUMBER(16,6),
  selfpay_prop        NUMBER(5,4),
  fulamt_ownpay_amt   NUMBER(16,2),
  overlmt_selfpay     NUMBER(16,2),
  preselfpay_amt      NUMBER(16,2),
  inscp_amt           NUMBER(16,2),
  cvlserv_bedfee_amt  NUMBER(16,2),
  medins_disc_amt     NUMBER(16,2),
  chrgitm_lv          VARCHAR2(3),
  hilist_code         VARCHAR2(50),
  hilist_name         VARCHAR2(200),
  list_type           VARCHAR2(6),
  med_list_codg       VARCHAR2(50),
  medins_list_codg    VARCHAR2(150),
  med_chrgitm_type    VARCHAR2(6),
  prodname            VARCHAR2(2000),
  spec                VARCHAR2(200),
  dosform_name        VARCHAR2(200),
  bilg_dept_codg      VARCHAR2(30),
  bilg_dept_name      VARCHAR2(100),
  bilg_dr_code        VARCHAR2(30),
  bilg_dr_name        VARCHAR2(50),
  acord_dept_codg     VARCHAR2(30),
  acord_dept_name     VARCHAR2(100),
  acord_dr_code       VARCHAR2(30),
  acord_dr_name       VARCHAR2(50),
  lmt_used_flag       VARCHAR2(3),
  hosp_prep_flag      VARCHAR2(3),
  hosp_appr_flag      VARCHAR2(3),
  tcmdrug_used_way    VARCHAR2(6),
  prodplac_type       VARCHAR2(6),
  bas_medn_flag       VARCHAR2(3),
  hi_nego_drug_flag   VARCHAR2(3),
  prcu_drug_flag      VARCHAR2(3),
  chld_medc_flag      VARCHAR2(3),
  etip_flag           VARCHAR2(3),
  etip_hosp_code      VARCHAR2(30),
  dscg_tkdrug_flag    VARCHAR2(3),
  list_sp_item_flag   VARCHAR2(3),
  matn_fee_flag       VARCHAR2(6),
  drt_reim_flag       VARCHAR2(3),
  reim_prop           NUMBER(5,4),
  oprn_oprt_code      VARCHAR2(30),
  sin_dos_dscr        VARCHAR2(200),
  used_frqu_dscr      VARCHAR2(200),
  prd_days            NUMBER(6,2),
  medc_way_dscr       VARCHAR2(200),
  memo                CLOB,
  vali_flag           VARCHAR2(3),
  rid                 VARCHAR2(40),
  updt_time           DATE,
  crter_id            VARCHAR2(20),
  crter_name          VARCHAR2(50),
  crte_time           DATE,
  crte_optins_no      VARCHAR2(20),
  opter_id            VARCHAR2(20),
  opter_name          VARCHAR2(50),
  opt_time            DATE,
  optins_no           VARCHAR2(20),
  poolarea_no         VARCHAR2(6),
  rx_circ_flag        VARCHAR2(3),
  dise_codg           VARCHAR2(30),
  chrg_bchno          VARCHAR2(30),
  init_feedetl_sn     VARCHAR2(30),
  comb_no             VARCHAR2(3),
  medins_list_name    VARCHAR2(120)
)
PARTITION BY RANGE (UPDT_TIME)(
	partition PART202001BEFORE values less than (TO_DATE(' 2020-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202001 values less than (TO_DATE(' 2020-02-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202002 values less than (TO_DATE(' 2020-03-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202003 values less than (TO_DATE(' 2020-04-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202004 values less than (TO_DATE(' 2020-05-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202005 values less than (TO_DATE(' 2020-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202006 values less than (TO_DATE(' 2020-07-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202007 values less than (TO_DATE(' 2020-08-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202008 values less than (TO_DATE(' 2020-09-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202009 values less than (TO_DATE(' 2020-10-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202010 values less than (TO_DATE(' 2020-11-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202011 values less than (TO_DATE(' 2020-12-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202012 values less than (TO_DATE(' 2021-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202101 values less than (TO_DATE(' 2021-02-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202102 values less than (TO_DATE(' 2021-03-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202103 values less than (TO_DATE(' 2021-04-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202104 values less than (TO_DATE(' 2021-05-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202105 values less than (TO_DATE(' 2021-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202106 values less than (TO_DATE(' 2021-07-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202107 values less than (TO_DATE(' 2021-08-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202108 values less than (TO_DATE(' 2021-09-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202109 values less than (TO_DATE(' 2021-10-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202110 values less than (TO_DATE(' 2021-11-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202111 values less than (TO_DATE(' 2021-12-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    )
);
-- Add comments to the table 
comment on table FEE_LIST_D_OUTPATIENT_NEW
  is '门诊费用明细表';
-- Add comments to the columns 
comment on column FEE_LIST_D_OUTPATIENT_NEW.bkkp_sn
  is '记账流水号';
comment on column FEE_LIST_D_OUTPATIENT_NEW.mdtrt_id
  is '就诊ID';
comment on column FEE_LIST_D_OUTPATIENT_NEW.fee_ocur_time
  is '费用发生时间';
comment on column FEE_LIST_D_OUTPATIENT_NEW.setl_id
  is '结算ID';
comment on column FEE_LIST_D_OUTPATIENT_NEW.rx_drord_no
  is '处方医嘱号';
comment on column FEE_LIST_D_OUTPATIENT_NEW.fixmedins_code
  is '定点医药机构编号';
comment on column FEE_LIST_D_OUTPATIENT_NEW.fixmedins_name
  is '定点医药机构名称';
comment on column FEE_LIST_D_OUTPATIENT_NEW.psn_no
  is '人员编号';
comment on column FEE_LIST_D_OUTPATIENT_NEW.psn_insu_rlts_id
  is '人员参保关系ID';
comment on column FEE_LIST_D_OUTPATIENT_NEW.insu_admdvs
  is '参保所属医保区划';
comment on column FEE_LIST_D_OUTPATIENT_NEW.pay_loc
  is '支付地点类别';
comment on column FEE_LIST_D_OUTPATIENT_NEW.med_type
  is '医疗类别';
comment on column FEE_LIST_D_OUTPATIENT_NEW.cnt
  is '数量';
comment on column FEE_LIST_D_OUTPATIENT_NEW.pric
  is '单价';
comment on column FEE_LIST_D_OUTPATIENT_NEW.det_item_fee_sumamt
  is '明细项目费用总额';
comment on column FEE_LIST_D_OUTPATIENT_NEW.pric_uplmt_amt
  is '定价上限金额';
comment on column FEE_LIST_D_OUTPATIENT_NEW.selfpay_prop
  is '自付比例';
comment on column FEE_LIST_D_OUTPATIENT_NEW.fulamt_ownpay_amt
  is '全自费金额';
comment on column FEE_LIST_D_OUTPATIENT_NEW.overlmt_selfpay
  is '超限价自费费用';
comment on column FEE_LIST_D_OUTPATIENT_NEW.preselfpay_amt
  is '先行自付金额';
comment on column FEE_LIST_D_OUTPATIENT_NEW.inscp_amt
  is '符合范围金额';
comment on column FEE_LIST_D_OUTPATIENT_NEW.cvlserv_bedfee_amt
  is '公务员床位费金额';
comment on column FEE_LIST_D_OUTPATIENT_NEW.medins_disc_amt
  is '医院减免金额';
comment on column FEE_LIST_D_OUTPATIENT_NEW.chrgitm_lv
  is '收费项目等级';
comment on column FEE_LIST_D_OUTPATIENT_NEW.hilist_code
  is '医保目录编码';
comment on column FEE_LIST_D_OUTPATIENT_NEW.hilist_name
  is '医保目录名称';
comment on column FEE_LIST_D_OUTPATIENT_NEW.list_type
  is '目录类别';
comment on column FEE_LIST_D_OUTPATIENT_NEW.med_list_codg
  is '医疗目录编码';
comment on column FEE_LIST_D_OUTPATIENT_NEW.medins_list_codg
  is '医药机构目录编码';
comment on column FEE_LIST_D_OUTPATIENT_NEW.med_chrgitm_type
  is '医疗收费项目类别';
comment on column FEE_LIST_D_OUTPATIENT_NEW.prodname
  is '商品名';
comment on column FEE_LIST_D_OUTPATIENT_NEW.spec
  is '规格';
comment on column FEE_LIST_D_OUTPATIENT_NEW.dosform_name
  is '剂型名称';
comment on column FEE_LIST_D_OUTPATIENT_NEW.bilg_dept_codg
  is '开单科室编码';
comment on column FEE_LIST_D_OUTPATIENT_NEW.bilg_dept_name
  is '开单科室名称';
comment on column FEE_LIST_D_OUTPATIENT_NEW.bilg_dr_code
  is '开单医师代码';
comment on column FEE_LIST_D_OUTPATIENT_NEW.bilg_dr_name
  is '开单医师姓名';
comment on column FEE_LIST_D_OUTPATIENT_NEW.acord_dept_codg
  is '受单科室编码';
comment on column FEE_LIST_D_OUTPATIENT_NEW.acord_dept_name
  is '受单科室名称';
comment on column FEE_LIST_D_OUTPATIENT_NEW.acord_dr_code
  is '受单医师代码';
comment on column FEE_LIST_D_OUTPATIENT_NEW.acord_dr_name
  is '受单医师姓名';
comment on column FEE_LIST_D_OUTPATIENT_NEW.lmt_used_flag
  is '限制使用标志';
comment on column FEE_LIST_D_OUTPATIENT_NEW.hosp_prep_flag
  is '医院制剂标志';
comment on column FEE_LIST_D_OUTPATIENT_NEW.hosp_appr_flag
  is '医院审批标志';
comment on column FEE_LIST_D_OUTPATIENT_NEW.tcmdrug_used_way
  is '中药使用方式';
comment on column FEE_LIST_D_OUTPATIENT_NEW.prodplac_type
  is '生产地类别';
comment on column FEE_LIST_D_OUTPATIENT_NEW.bas_medn_flag
  is '基本药物标志';
comment on column FEE_LIST_D_OUTPATIENT_NEW.hi_nego_drug_flag
  is '医保谈判药品标志';
comment on column FEE_LIST_D_OUTPATIENT_NEW.prcu_drug_flag
  is '贵重药品标志';
comment on column FEE_LIST_D_OUTPATIENT_NEW.chld_medc_flag
  is '儿童用药标志';
comment on column FEE_LIST_D_OUTPATIENT_NEW.etip_flag
  is '外检标志';
comment on column FEE_LIST_D_OUTPATIENT_NEW.etip_hosp_code
  is '外检医院编码';
comment on column FEE_LIST_D_OUTPATIENT_NEW.dscg_tkdrug_flag
  is '出院带药标志';
comment on column FEE_LIST_D_OUTPATIENT_NEW.list_sp_item_flag
  is '目录特项标志';
comment on column FEE_LIST_D_OUTPATIENT_NEW.matn_fee_flag
  is '生育费用标志';
comment on column FEE_LIST_D_OUTPATIENT_NEW.drt_reim_flag
  is '直报标志';
comment on column FEE_LIST_D_OUTPATIENT_NEW.reim_prop
  is '报销比例';
comment on column FEE_LIST_D_OUTPATIENT_NEW.oprn_oprt_code
  is '手术操作代码';
comment on column FEE_LIST_D_OUTPATIENT_NEW.sin_dos_dscr
  is '单次剂量描述';
comment on column FEE_LIST_D_OUTPATIENT_NEW.used_frqu_dscr
  is '使用频次描述';
comment on column FEE_LIST_D_OUTPATIENT_NEW.prd_days
  is '周期天数';
comment on column FEE_LIST_D_OUTPATIENT_NEW.medc_way_dscr
  is '用药途径描述';
comment on column FEE_LIST_D_OUTPATIENT_NEW.memo
  is '备注';
comment on column FEE_LIST_D_OUTPATIENT_NEW.vali_flag
  is '有效标志';
comment on column FEE_LIST_D_OUTPATIENT_NEW.rid
  is '数据唯一记录号';
comment on column FEE_LIST_D_OUTPATIENT_NEW.updt_time
  is '数据更新时间';
comment on column FEE_LIST_D_OUTPATIENT_NEW.crter_id
  is '创建人ID';
comment on column FEE_LIST_D_OUTPATIENT_NEW.crter_name
  is '创建人姓名';
comment on column FEE_LIST_D_OUTPATIENT_NEW.crte_time
  is '数据创建时间';
comment on column FEE_LIST_D_OUTPATIENT_NEW.crte_optins_no
  is '创建机构编号';
comment on column FEE_LIST_D_OUTPATIENT_NEW.opter_id
  is '经办人ID';
comment on column FEE_LIST_D_OUTPATIENT_NEW.opter_name
  is '经办人姓名';
comment on column FEE_LIST_D_OUTPATIENT_NEW.opt_time
  is '经办时间';
comment on column FEE_LIST_D_OUTPATIENT_NEW.optins_no
  is '经办机构编号';
comment on column FEE_LIST_D_OUTPATIENT_NEW.poolarea_no
  is '统筹区编号';
comment on column FEE_LIST_D_OUTPATIENT_NEW.rx_circ_flag
  is '处方流转标志';
comment on column FEE_LIST_D_OUTPATIENT_NEW.dise_codg
  is '病种编码';
comment on column FEE_LIST_D_OUTPATIENT_NEW.chrg_bchno
  is '收费批次号';
comment on column FEE_LIST_D_OUTPATIENT_NEW.init_feedetl_sn
  is '原费用明细流水号';
comment on column FEE_LIST_D_OUTPATIENT_NEW.comb_no
  is '组套编号';
comment on column FEE_LIST_D_OUTPATIENT_NEW.medins_list_name
  is '医药机构目录名称';
-- Grant/Revoke object privileges 
grant select on FEE_LIST_D_OUTPATIENT_NEW to DRGSPLATFORM_SQ;
```

##### 2、复制原表数据到分区表

```sql
INSERT INTO FEE_LIST_D_OUTPATIENT_NEW SELECT * FROM FEE_LIST_D_OUTPATIENT;
```



##### 3、重命名表

```sql
RENAME FEE_LIST_D_OUTPATIENT TO FEE_LIST_D_OUTPATIENT_OLD;
RENAME FEE_LIST_D_OUTPATIENT_NEW TO FEE_LIST_D_OUTPATIENT;
```



##### 4、查看表数据是否一致

```sql
select count(*) from FEE_LIST_D_OUTPATIENT;
select count(*) from FEE_LIST_D_OUTPATIENT_OLD;
```



#### 异地就医结算信息表(OUTMED_SETL_D)

##### 1、创建同结构分区表

```sql
-- Create table
create table OUTMED_SETL_D_NEW
(
  setl_id           VARCHAR2(30),
  clr_optins        VARCHAR2(6),
  medins_setl_id    VARCHAR2(30),
  mdtrt_id          VARCHAR2(30),
  init_setl_id      VARCHAR2(30),
  psn_no            VARCHAR2(30),
  psn_insu_rlts_id  VARCHAR2(20),
  psn_name          VARCHAR2(50),
  psn_cert_type     VARCHAR2(6),
  certno            VARCHAR2(600),
  gend              VARCHAR2(6),
  naty              VARCHAR2(3),
  brdy              DATE,
  age               NUMBER(4,1),
  insutype          VARCHAR2(6),
  psn_type          VARCHAR2(6),
  cvlserv_flag      VARCHAR2(3),
  cvlserv_lv        VARCHAR2(6),
  sp_psn_type       VARCHAR2(6),
  sp_psn_type_lv    VARCHAR2(3),
  clct_grde         VARCHAR2(3),
  flxempe_flag      VARCHAR2(3),
  nwb_flag          VARCHAR2(3),
  insu_admdvs       VARCHAR2(6),
  emp_no            VARCHAR2(40),
  emp_name          VARCHAR2(200),
  emp_type          VARCHAR2(6),
  econ_type         VARCHAR2(6),
  afil_indu         VARCHAR2(6),
  afil_rlts         VARCHAR2(6),
  emp_mgt_type      VARCHAR2(6),
  pay_loc           VARCHAR2(6),
  fixmedins_code    VARCHAR2(30),
  fixmedins_name    VARCHAR2(200),
  hosp_lv           VARCHAR2(6),
  fix_blng_admdvs   VARCHAR2(6),
  lmtpric_hosp_lv   VARCHAR2(6),
  dedc_hosp_lv      VARCHAR2(6),
  begndate          DATE,
  enddate           DATE,
  setl_time         DATE,
  mdtrt_cert_type   VARCHAR2(3),
  mdtrt_cert_no     VARCHAR2(50),
  med_type          VARCHAR2(6),
  setl_type         VARCHAR2(6),
  clr_type          VARCHAR2(6),
  clr_way           VARCHAR2(6),
  psn_setlway       VARCHAR2(6),
  medfee_sumamt     NUMBER(16,2),
  fulamt_ownpay_amt NUMBER(16,2),
  overlmt_selfpay   NUMBER(16,2),
  preselfpay_amt    NUMBER(16,2),
  inscp_amt         NUMBER(16,2),
  dedc_std          NUMBER(16,2),
  crt_dedc          NUMBER(16,2),
  act_pay_dedc      NUMBER(16,2),
  hifp_pay          NUMBER(16,2),
  pool_prop_selfpay NUMBER(5,4),
  hi_agre_sumfee    NUMBER(16,2),
  cvlserv_pay       NUMBER(16,2),
  hifes_pay         NUMBER(16,2),
  hifmi_pay         NUMBER(16,2),
  hifob_pay         NUMBER(16,2),
  hifdm_pay         NUMBER(16,2),
  maf_pay           NUMBER(16,2),
  othfund_pay       NUMBER(16,2),
  fund_pay_sumamt   NUMBER(16,2),
  psn_pay           NUMBER(16,2),
  acct_pay          NUMBER(16,2),
  cash_payamt       NUMBER(16,2),
  ownpay_hosp_part  NUMBER(16,2),
  balc              NUMBER(16,2),
  acct_mulaid_pay   NUMBER(16,2),
  refd_setl_flag    VARCHAR2(3),
  cal_ipt_cnt       VARCHAR2(3),
  setl_cashpay_way  VARCHAR2(6),
  year              VARCHAR2(4),
  dise_no           VARCHAR2(30),
  dise_name         VARCHAR2(500),
  invono            VARCHAR2(200),
  manl_reim_rea     VARCHAR2(6),
  vali_flag         VARCHAR2(3),
  memo              CLOB,
  rid               VARCHAR2(40),
  updt_time         DATE,
  crter_id          VARCHAR2(20),
  crter_name        VARCHAR2(50),
  crte_time         DATE,
  crte_optins_no    VARCHAR2(20),
  opter_id          VARCHAR2(20),
  opter_name        VARCHAR2(50),
  opt_time          DATE,
  optins_no         VARCHAR2(20),
  poolarea_no       VARCHAR2(6)
)
PARTITION BY RANGE (UPDT_TIME)(
	partition PART202101BEFORE values less than (TO_DATE(' 2021-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202101 values less than (TO_DATE(' 2021-02-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202102 values less than (TO_DATE(' 2021-03-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202103 values less than (TO_DATE(' 2021-04-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202104 values less than (TO_DATE(' 2021-05-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202105 values less than (TO_DATE(' 2021-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202106 values less than (TO_DATE(' 2021-07-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202107 values less than (TO_DATE(' 2021-08-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202108 values less than (TO_DATE(' 2021-09-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202109 values less than (TO_DATE(' 2021-10-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202110 values less than (TO_DATE(' 2021-11-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202111 values less than (TO_DATE(' 2021-12-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    )
);
-- Add comments to the table 
comment on table OUTMED_SETL_D_NEW
  is '异地就医结算信息表';
-- Add comments to the columns 
comment on column OUTMED_SETL_D_NEW.setl_id
  is '结算ID';
comment on column OUTMED_SETL_D_NEW.clr_optins
  is '清算经办机构';
comment on column OUTMED_SETL_D_NEW.medins_setl_id
  is '医药机构结算ID';
comment on column OUTMED_SETL_D_NEW.mdtrt_id
  is '就诊ID';
comment on column OUTMED_SETL_D_NEW.init_setl_id
  is '原结算ID';
comment on column OUTMED_SETL_D_NEW.psn_no
  is '人员编号';
comment on column OUTMED_SETL_D_NEW.psn_insu_rlts_id
  is '人员参保关系ID';
comment on column OUTMED_SETL_D_NEW.psn_name
  is '人员姓名';
comment on column OUTMED_SETL_D_NEW.psn_cert_type
  is '人员证件类型';
comment on column OUTMED_SETL_D_NEW.certno
  is '证件号码';
comment on column OUTMED_SETL_D_NEW.gend
  is '性别';
comment on column OUTMED_SETL_D_NEW.naty
  is '民族';
comment on column OUTMED_SETL_D_NEW.brdy
  is '出生日期';
comment on column OUTMED_SETL_D_NEW.age
  is '年龄';
comment on column OUTMED_SETL_D_NEW.insutype
  is '险种类型';
comment on column OUTMED_SETL_D_NEW.psn_type
  is '人员类别';
comment on column OUTMED_SETL_D_NEW.cvlserv_flag
  is '公务员标志';
comment on column OUTMED_SETL_D_NEW.cvlserv_lv
  is '公务员等级';
comment on column OUTMED_SETL_D_NEW.sp_psn_type
  is '特殊人员类型';
comment on column OUTMED_SETL_D_NEW.sp_psn_type_lv
  is '特殊人员类型等级';
comment on column OUTMED_SETL_D_NEW.clct_grde
  is '缴费档次';
comment on column OUTMED_SETL_D_NEW.flxempe_flag
  is '灵活就业标志';
comment on column OUTMED_SETL_D_NEW.nwb_flag
  is '新生儿标志';
comment on column OUTMED_SETL_D_NEW.insu_admdvs
  is '参保所属医保区划';
comment on column OUTMED_SETL_D_NEW.emp_no
  is '单位编号';
comment on column OUTMED_SETL_D_NEW.emp_name
  is '单位名称';
comment on column OUTMED_SETL_D_NEW.emp_type
  is '单位类型';
comment on column OUTMED_SETL_D_NEW.econ_type
  is '经济类型';
comment on column OUTMED_SETL_D_NEW.afil_indu
  is '所属行业';
comment on column OUTMED_SETL_D_NEW.afil_rlts
  is '隶属关系';
comment on column OUTMED_SETL_D_NEW.emp_mgt_type
  is '单位管理类型';
comment on column OUTMED_SETL_D_NEW.pay_loc
  is '支付地点类别';
comment on column OUTMED_SETL_D_NEW.fixmedins_code
  is '定点医药机构编号';
comment on column OUTMED_SETL_D_NEW.fixmedins_name
  is '定点医药机构名称';
comment on column OUTMED_SETL_D_NEW.hosp_lv
  is '医院等级';
comment on column OUTMED_SETL_D_NEW.fix_blng_admdvs
  is '定点归属医保区划';
comment on column OUTMED_SETL_D_NEW.lmtpric_hosp_lv
  is '限价医院等级';
comment on column OUTMED_SETL_D_NEW.dedc_hosp_lv
  is '起付线医院等级';
comment on column OUTMED_SETL_D_NEW.begndate
  is '开始日期';
comment on column OUTMED_SETL_D_NEW.enddate
  is '结束日期';
comment on column OUTMED_SETL_D_NEW.setl_time
  is '结算时间';
comment on column OUTMED_SETL_D_NEW.mdtrt_cert_type
  is '就诊凭证类型';
comment on column OUTMED_SETL_D_NEW.mdtrt_cert_no
  is '就诊凭证编号';
comment on column OUTMED_SETL_D_NEW.med_type
  is '医疗类别';
comment on column OUTMED_SETL_D_NEW.setl_type
  is '结算类别';
comment on column OUTMED_SETL_D_NEW.clr_type
  is '清算类别';
comment on column OUTMED_SETL_D_NEW.clr_way
  is '清算方式';
comment on column OUTMED_SETL_D_NEW.psn_setlway
  is '个人结算方式';
comment on column OUTMED_SETL_D_NEW.medfee_sumamt
  is '医疗费总额';
comment on column OUTMED_SETL_D_NEW.fulamt_ownpay_amt
  is '全自费金额';
comment on column OUTMED_SETL_D_NEW.overlmt_selfpay
  is '超限价自费费用';
comment on column OUTMED_SETL_D_NEW.preselfpay_amt
  is '先行自付金额';
comment on column OUTMED_SETL_D_NEW.inscp_amt
  is '符合范围金额';
comment on column OUTMED_SETL_D_NEW.dedc_std
  is '起付标准';
comment on column OUTMED_SETL_D_NEW.crt_dedc
  is '本次起付线';
comment on column OUTMED_SETL_D_NEW.act_pay_dedc
  is '实际支付起付线';
comment on column OUTMED_SETL_D_NEW.hifp_pay
  is '统筹基金支出';
comment on column OUTMED_SETL_D_NEW.pool_prop_selfpay
  is '基本医疗统筹支付比例';
comment on column OUTMED_SETL_D_NEW.hi_agre_sumfee
  is '医保认可费用总额';
comment on column OUTMED_SETL_D_NEW.cvlserv_pay
  is '公务员医疗补助资金支出';
comment on column OUTMED_SETL_D_NEW.hifes_pay
  is '补充医疗保险基金支出';
comment on column OUTMED_SETL_D_NEW.hifmi_pay
  is '大病补充医疗保险基金支出';
comment on column OUTMED_SETL_D_NEW.hifob_pay
  is '大额医疗补助基金支出';
comment on column OUTMED_SETL_D_NEW.hifdm_pay
  is '伤残人员医疗保障基金支出';
comment on column OUTMED_SETL_D_NEW.maf_pay
  is '医疗救助基金支出';
comment on column OUTMED_SETL_D_NEW.othfund_pay
  is '其它基金支付';
comment on column OUTMED_SETL_D_NEW.fund_pay_sumamt
  is '基金支付总额';
comment on column OUTMED_SETL_D_NEW.psn_pay
  is '个人支付金额';
comment on column OUTMED_SETL_D_NEW.acct_pay
  is '个人账户支出';
comment on column OUTMED_SETL_D_NEW.cash_payamt
  is '现金支付金额';
comment on column OUTMED_SETL_D_NEW.ownpay_hosp_part
  is '自费中医院负担部分';
comment on column OUTMED_SETL_D_NEW.balc
  is '余额';
comment on column OUTMED_SETL_D_NEW.acct_mulaid_pay
  is '账户共济支付金额';
comment on column OUTMED_SETL_D_NEW.refd_setl_flag
  is '退费结算标志';
comment on column OUTMED_SETL_D_NEW.cal_ipt_cnt
  is '计算住院次数标志';
comment on column OUTMED_SETL_D_NEW.setl_cashpay_way
  is '结算现金支付方式';
comment on column OUTMED_SETL_D_NEW.year
  is '年度';
comment on column OUTMED_SETL_D_NEW.dise_no
  is '病种编号';
comment on column OUTMED_SETL_D_NEW.dise_name
  is '病种名称';
comment on column OUTMED_SETL_D_NEW.invono
  is '发票号';
comment on column OUTMED_SETL_D_NEW.manl_reim_rea
  is '零星报销原因';
comment on column OUTMED_SETL_D_NEW.vali_flag
  is '有效标志';
comment on column OUTMED_SETL_D_NEW.memo
  is '备注';
comment on column OUTMED_SETL_D_NEW.rid
  is '数据唯一记录号';
comment on column OUTMED_SETL_D_NEW.updt_time
  is '数据更新时间';
comment on column OUTMED_SETL_D_NEW.crter_id
  is '创建人ID';
comment on column OUTMED_SETL_D_NEW.crter_name
  is '创建人姓名';
comment on column OUTMED_SETL_D_NEW.crte_time
  is '数据创建时间';
comment on column OUTMED_SETL_D_NEW.crte_optins_no
  is '创建机构编号';
comment on column OUTMED_SETL_D_NEW.opter_id
  is '经办人ID';
comment on column OUTMED_SETL_D_NEW.opter_name
  is '经办人姓名';
comment on column OUTMED_SETL_D_NEW.opt_time
  is '经办时间';
comment on column OUTMED_SETL_D_NEW.optins_no
  is '经办机构编号';
comment on column OUTMED_SETL_D_NEW.poolarea_no
  is '统筹区编号';
-- Grant/Revoke object privileges 
grant select on OUTMED_SETL_D_NEW to DRGSPLATFORM_SQ;
```



##### 2、复制原表数据到分区表

```sql
INSERT INTO OUTMED_SETL_D_NEW SELECT * FROM OUTMED_SETL_D;
```



##### 3、重命名表

```sql
RENAME OUTMED_SETL_D TO OUTMED_SETL_D_OLD;
RENAME OUTMED_SETL_D_NEW TO OUTMED_SETL_D;
```



##### 4、查看表数据是否一致

```sql
select count(*) from OUTMED_SETL_D;
select count(*) from OUTMED_SETL_D_OLD;
```



#### 医保结算清单费用分类表

##### 1、创建同结构分区表

```sql
-- Create table
create table SETL_FEE_STT_D_NEW
(
  setl_id          VARCHAR2(30),
  psn_no           VARCHAR2(30),
  med_chrgitm_type VARCHAR2(6),
  mdtrt_id         VARCHAR2(30),
  evt_inst_id      VARCHAR2(40),
  psn_insu_rlts_id VARCHAR2(20),
  item_sumamt      NUMBER(16,2),
  item_claa_amt    NUMBER(16,2),
  item_clab_amt    NUMBER(16,2),
  item_ownpay_amt  NUMBER(16,2),
  item_oth_amt     NUMBER(16,2),
  vali_flag        VARCHAR2(3),
  rid              VARCHAR2(40),
  updt_time        DATE,
  crter_id         VARCHAR2(20),
  crter_name       VARCHAR2(50),
  crte_time        DATE,
  crte_optins_no   VARCHAR2(20),
  opter_id         VARCHAR2(20),
  opter_name       VARCHAR2(50),
  opt_time         DATE,
  optins_no        VARCHAR2(20),
  poolarea_no      VARCHAR2(6)
)
PARTITION BY RANGE (OPT_TIME)(
	partition PART202101BEFORE values less than (TO_DATE(' 2021-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202101 values less than (TO_DATE(' 2021-02-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202102 values less than (TO_DATE(' 2021-03-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202103 values less than (TO_DATE(' 2021-04-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202104 values less than (TO_DATE(' 2021-05-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202105 values less than (TO_DATE(' 2021-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202106 values less than (TO_DATE(' 2021-07-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202107 values less than (TO_DATE(' 2021-08-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202108 values less than (TO_DATE(' 2021-09-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202109 values less than (TO_DATE(' 2021-10-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202110 values less than (TO_DATE(' 2021-11-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202111 values less than (TO_DATE(' 2021-12-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202112 values less than (TO_DATE(' 2022-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202201 values less than (TO_DATE(' 2022-02-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    )
);
-- Add comments to the columns 
comment on column SETL_FEE_STT_D_NEW.setl_id
  is '结算ID';
comment on column SETL_FEE_STT_D_NEW.psn_no
  is '人员编号';
comment on column SETL_FEE_STT_D_NEW.med_chrgitm_type
  is '医疗收费项目类别';
comment on column SETL_FEE_STT_D_NEW.mdtrt_id
  is '就诊ID';
comment on column SETL_FEE_STT_D_NEW.evt_inst_id
  is '事件实例ID';
comment on column SETL_FEE_STT_D_NEW.psn_insu_rlts_id
  is '人员参保关系ID';
comment on column SETL_FEE_STT_D_NEW.item_sumamt
  is '项目总金额';
comment on column SETL_FEE_STT_D_NEW.item_claa_amt
  is '项目甲类金额';
comment on column SETL_FEE_STT_D_NEW.item_clab_amt
  is '项目乙类金额';
comment on column SETL_FEE_STT_D_NEW.item_ownpay_amt
  is '项目自费金额';
comment on column SETL_FEE_STT_D_NEW.item_oth_amt
  is '项目其他金额';
comment on column SETL_FEE_STT_D_NEW.vali_flag
  is '有效标志';
comment on column SETL_FEE_STT_D_NEW.rid
  is '数据唯一记录号';
comment on column SETL_FEE_STT_D_NEW.updt_time
  is '数据更新时间';
comment on column SETL_FEE_STT_D_NEW.crter_id
  is '创建人ID';
comment on column SETL_FEE_STT_D_NEW.crter_name
  is '创建人姓名';
comment on column SETL_FEE_STT_D_NEW.crte_time
  is '数据创建时间';
comment on column SETL_FEE_STT_D_NEW.crte_optins_no
  is '创建机构编号';
comment on column SETL_FEE_STT_D_NEW.opter_id
  is '经办人ID';
comment on column SETL_FEE_STT_D_NEW.opter_name
  is '经办人姓名';
comment on column SETL_FEE_STT_D_NEW.opt_time
  is '经办时间';
comment on column SETL_FEE_STT_D_NEW.optins_no
  is '经办机构编号';
comment on column SETL_FEE_STT_D_NEW.poolarea_no
  is '统筹区编号';
-- Grant/Revoke object privileges 
grant select on SETL_FEE_STT_D_NEW to DRGSPLATFORM_SQ;

```

##### 2、复制原表数据到分区表

```sql
INSERT INTO SETL_FEE_STT_D_NEW SELECT * FROM SETL_FEE_STT_D;
```



##### 3、重命名表

```sql
RENAME SETL_FEE_STT_D TO SETL_FEE_STT_D_OLD;
RENAME SETL_FEE_STT_D_NEW TO SETL_FEE_STT_D;
```



##### 4、查看表数据是否一致

```sql
select count(*) from SETL_FEE_STT_D;
select count(*) from SETL_FEE_STT_D_OLD;
```





### 二、添加存储过程

```sql
create or replace procedure time_part_task
is
v_year number; -- 年
v_month varchar(2); -- 月
v_part_year number; -- 分区名年份
v_part_month varchar(2); -- 分区名月份
v_part varchar2(12); -- 分区名
v_date varchar2(19); -- 分组条件
begin
  -- 获取当前年份
  select to_char(sysdate,'yyyy') into v_year from dual;
  select to_char(sysdate,'MM') into v_month from dual;
  
  if v_month='11' then 
    v_part_year:=v_year;
    v_year:=v_year+1;
    v_part_month:='12';
    v_month:='01';
  elsif v_month='12' then
    v_part_year:=v_year+1;
    v_year:=v_year+1;
    v_part_month:='01';
    v_month:='02';
  else
    v_part_year:=v_year;
    if to_number(v_month)<9 then
      v_part_month:='0'||to_char(to_number(v_month)+1);
    else
      v_part_month:=to_char(to_number(v_month)+1);
    end if;
    v_month:=to_char(to_number(v_month)+2);
  end if;
  
  v_part:='part'||to_char(v_part_year)||to_char(v_part_month);
	v_date:=to_char(v_year)||'-'||to_char(v_month)||'-01 00:00:00';
	
	execute immediate 'alter table SETL_D_HOSP add partition '||v_part||' values less than (to_date(''' ||v_date||''',''SYYYY-MM-DD HH24:MI:SS'', ''NLS_CALENDAR=GREGORIAN'')) tablespace SICP_DATA pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    )';
    dbms_output.put_line('住院结算数据表：SETL_D_HOSP的分区：'||v_part||'创建完成');
    
    execute immediate 'alter table SETL_D_OUTPATIENT add partition '||v_part||' values less than (to_date(''' ||v_date||''',''SYYYY-MM-DD HH24:MI:SS'', ''NLS_CALENDAR=GREGORIAN'')) tablespace SICP_DATA pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    )';
    dbms_output.put_line('门诊结算数据表：SETL_D_OUTPATIENT的分区：'||v_part||'创建完成');
    
    execute immediate 'alter table FEE_LIST_D_HOSP add partition '||v_part||' values less than (to_date(''' ||v_date||''',''SYYYY-MM-DD HH24:MI:SS'', ''NLS_CALENDAR=GREGORIAN'')) tablespace SICP_DATA pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    )';
    dbms_output.put_line('住院费用明细表：FEE_LIST_D_HOSP的分区：'||v_part||'创建完成');
    
    execute immediate 'alter table FEE_LIST_D_OUTPATIENT add partition '||v_part||' values less than (to_date(''' ||v_date||''',''SYYYY-MM-DD HH24:MI:SS'', ''NLS_CALENDAR=GREGORIAN'')) tablespace SICP_DATA pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    )';
    dbms_output.put_line('门诊费用明细表：FEE_LIST_D_OUTPATIENT的分区：'||v_part||'创建完成');
    
    execute immediate 'alter table OUTMED_SETL_D add partition '||v_part||' values less than (to_date(''' ||v_date||''',''SYYYY-MM-DD HH24:MI:SS'', ''NLS_CALENDAR=GREGORIAN'')) tablespace SICP_DATA pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    )';
    dbms_output.put_line('医保结算清单费用表：OUTMED_SETL_D的分区：'||v_part||'创建完成');
    
     execute immediate 'alter table SETL_FEE_STT_D add partition '||v_part||' values less than (to_date(''' ||v_date||''',''SYYYY-MM-DD HH24:MI:SS'', ''NLS_CALENDAR=GREGORIAN'')) tablespace SICP_DATA pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    )';
    dbms_output.put_line('医保结算清单费用表：SETL_FEE_STT_D的分区：'||v_part||'创建完成');
end time_part_ta;
```



### 三、定时任务

#### 创建定时任务

```sql
declare
  job number;
BEGIN
  DBMS_JOB.SUBMIT(  
        JOB => job,  /*自动生成JOB_ID*/  
        WHAT =>'time_part_task;',  /*需要执行的存储过程名称或SQL语句*/  
        NEXT_DATE => sysdate,  /*初次执行时间（立即执行）*/  
        INTERVAL => 'TRUNC(LAST_DAY(SYSDATE)+1)' /*执行间隔（每隔一个月执行一次）*/
      );  
  commit;
end;
```



#### 查询任务

```sql
SELECT job,next_date,what FROM dba_jobs WHERE what = 'time_part_task;'
```



#### 调用定时任务

```sql
begin
  dbms_job.run(任务号);
end;
```





### 特殊

#### SDO

```SQL
-- Create table
create table SETL_D_OUTPATIENT
(
  setl_id               VARCHAR2(30),
  clr_optins            VARCHAR2(6),
  medins_setl_id        VARCHAR2(50),
  mdtrt_id              VARCHAR2(30),
  init_setl_id          VARCHAR2(30),
  psn_no                VARCHAR2(30),
  psn_insu_rlts_id      VARCHAR2(20),
  psn_name              VARCHAR2(50),
  psn_cert_type         VARCHAR2(6),
  certno                VARCHAR2(600),
  gend                  VARCHAR2(6),
  naty                  VARCHAR2(3),
  brdy                  DATE,
  age                   NUMBER(4,1),
  insutype              VARCHAR2(6),
  psn_type              VARCHAR2(6),
  cvlserv_flag          VARCHAR2(3),
  cvlserv_lv            VARCHAR2(6),
  sp_psn_type           VARCHAR2(6),
  sp_psn_type_lv        VARCHAR2(3),
  clct_grde             VARCHAR2(3),
  flxempe_flag          VARCHAR2(3),
  nwb_flag              VARCHAR2(3),
  insu_admdvs           VARCHAR2(6),
  emp_no                VARCHAR2(40),
  emp_name              VARCHAR2(200),
  emp_type              VARCHAR2(6),
  econ_type             VARCHAR2(6),
  afil_indu             VARCHAR2(6),
  afil_rlts             VARCHAR2(6),
  emp_mgt_type          VARCHAR2(6),
  pay_loc               VARCHAR2(6),
  fixmedins_code        VARCHAR2(30),
  fixmedins_name        VARCHAR2(200),
  hosp_lv               VARCHAR2(6),
  fix_blng_admdvs       VARCHAR2(6),
  lmtpric_hosp_lv       VARCHAR2(6),
  dedc_hosp_lv          VARCHAR2(6),
  begndate              DATE,
  enddate               DATE,
  setl_time             DATE,
  mdtrt_cert_type       VARCHAR2(3),
  mdtrt_cert_no         VARCHAR2(50),
  med_type              VARCHAR2(6),
  setl_type             VARCHAR2(6),
  clr_type              VARCHAR2(6),
  clr_way               VARCHAR2(6),
  psn_setlway           VARCHAR2(6),
  medfee_sumamt         NUMBER(16,2),
  fulamt_ownpay_amt     NUMBER(16,2),
  overlmt_selfpay       NUMBER(16,2),
  preselfpay_amt        NUMBER(16,2),
  inscp_amt             NUMBER(16,2),
  dedc_std              NUMBER(16,2),
  crt_dedc              NUMBER(16,2),
  act_pay_dedc          NUMBER(16,2),
  hifp_pay              NUMBER(16,2),
  pool_prop_selfpay     NUMBER(5,4),
  hi_agre_sumfee        NUMBER(16,2),
  cvlserv_pay           NUMBER(16,2),
  hifes_pay             NUMBER(16,2),
  hifmi_pay             NUMBER(16,2),
  hifob_pay             NUMBER(16,2),
  hifdm_pay             NUMBER(16,2),
  maf_pay               NUMBER(16,2),
  othfund_pay           NUMBER(16,2),
  fund_pay_sumamt       NUMBER(16,2),
  psn_pay               NUMBER(16,2),
  acct_pay              NUMBER(16,2),
  cash_payamt           NUMBER(16,2),
  ownpay_hosp_part      NUMBER(16,2),
  balc                  NUMBER(16,2),
  acct_mulaid_pay       NUMBER(16,2),
  refd_setl_flag        VARCHAR2(3),
  cal_ipt_cnt           VARCHAR2(3),
  setl_cashpay_way      VARCHAR2(6),
  year                  VARCHAR2(4),
  dise_no               VARCHAR2(30),
  dise_name             VARCHAR2(500),
  invono                VARCHAR2(200),
  manl_reim_rea         VARCHAR2(6),
  vali_flag             VARCHAR2(3),
  memo                  CLOB,
  rid                   VARCHAR2(40),
  updt_time             DATE,
  crter_id              VARCHAR2(20),
  crter_name            VARCHAR2(50),
  crte_time             DATE,
  crte_optins_no        VARCHAR2(20),
  opter_id              VARCHAR2(20),
  opter_name            VARCHAR2(50),
  opt_time              DATE,
  optins_no             VARCHAR2(20),
  poolarea_no           VARCHAR2(6),
  mid_setl_flag         VARCHAR2(3),
  acct_used_flag        VARCHAR2(3),
  quts_type             VARCHAR2(6),
  bydise_setl_payamt    NUMBER(16,2),
  exct_item_fund_payamt NUMBER(16,2)
)
PARTITION BY RANGE (UPDT_TIME)(
	partition PART202101BEFORE values less than (TO_DATE(' 2021-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202101 values less than (TO_DATE(' 2021-02-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202102 values less than (TO_DATE(' 2021-03-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202103 values less than (TO_DATE(' 2021-04-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202104 values less than (TO_DATE(' 2021-05-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202105 values less than (TO_DATE(' 2021-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202106 values less than (TO_DATE(' 2021-07-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202107 values less than (TO_DATE(' 2021-08-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202108 values less than (TO_DATE(' 2021-09-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202109 values less than (TO_DATE(' 2021-10-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202110 values less than (TO_DATE(' 2021-11-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202111 values less than (TO_DATE(' 2021-12-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    )
);
-- Add comments to the table 
comment on table SETL_D_OUTPATIENT
  is 'SETL_D_OUTPATIENT(门诊结算数据表)';
-- Add comments to the columns 
comment on column SETL_D_OUTPATIENT.setl_id
  is '结算ID';
comment on column SETL_D_OUTPATIENT.clr_optins
  is '清算经办机构';
comment on column SETL_D_OUTPATIENT.medins_setl_id
  is '医药机构结算ID';
comment on column SETL_D_OUTPATIENT.mdtrt_id
  is '就诊ID';
comment on column SETL_D_OUTPATIENT.init_setl_id
  is '原结算ID';
comment on column SETL_D_OUTPATIENT.psn_no
  is '人员编号';
comment on column SETL_D_OUTPATIENT.psn_insu_rlts_id
  is '人员参保关系ID';
comment on column SETL_D_OUTPATIENT.psn_name
  is '人员姓名';
comment on column SETL_D_OUTPATIENT.psn_cert_type
  is '人员证件类型';
comment on column SETL_D_OUTPATIENT.certno
  is '证件号码';
comment on column SETL_D_OUTPATIENT.gend
  is '性别';
comment on column SETL_D_OUTPATIENT.naty
  is '民族';
comment on column SETL_D_OUTPATIENT.brdy
  is '出生日期';
comment on column SETL_D_OUTPATIENT.age
  is '年龄';
comment on column SETL_D_OUTPATIENT.insutype
  is '险种类型';
comment on column SETL_D_OUTPATIENT.psn_type
  is '人员类别';
comment on column SETL_D_OUTPATIENT.cvlserv_flag
  is '公务员标志';
comment on column SETL_D_OUTPATIENT.cvlserv_lv
  is '公务员等级';
comment on column SETL_D_OUTPATIENT.sp_psn_type
  is '特殊人员类型';
comment on column SETL_D_OUTPATIENT.sp_psn_type_lv
  is '特殊人员类型等级';
comment on column SETL_D_OUTPATIENT.clct_grde
  is '缴费档次';
comment on column SETL_D_OUTPATIENT.flxempe_flag
  is '灵活就业标志';
comment on column SETL_D_OUTPATIENT.nwb_flag
  is '新生儿标志';
comment on column SETL_D_OUTPATIENT.insu_admdvs
  is '参保所属医保区划';
comment on column SETL_D_OUTPATIENT.emp_no
  is '单位编号';
comment on column SETL_D_OUTPATIENT.emp_name
  is '单位名称';
comment on column SETL_D_OUTPATIENT.emp_type
  is '单位类型';
comment on column SETL_D_OUTPATIENT.econ_type
  is '经济类型';
comment on column SETL_D_OUTPATIENT.afil_indu
  is '所属行业';
comment on column SETL_D_OUTPATIENT.afil_rlts
  is '隶属关系';
comment on column SETL_D_OUTPATIENT.emp_mgt_type
  is '单位管理类型';
comment on column SETL_D_OUTPATIENT.pay_loc
  is '支付地点类别';
comment on column SETL_D_OUTPATIENT.fixmedins_code
  is '定点医药机构编号';
comment on column SETL_D_OUTPATIENT.fixmedins_name
  is '定点医药机构名称';
comment on column SETL_D_OUTPATIENT.hosp_lv
  is '医院等级';
comment on column SETL_D_OUTPATIENT.fix_blng_admdvs
  is '定点归属医保区划';
comment on column SETL_D_OUTPATIENT.lmtpric_hosp_lv
  is '限价医院等级';
comment on column SETL_D_OUTPATIENT.dedc_hosp_lv
  is '起付线医院等级';
comment on column SETL_D_OUTPATIENT.begndate
  is '开始日期';
comment on column SETL_D_OUTPATIENT.enddate
  is '结束日期';
comment on column SETL_D_OUTPATIENT.setl_time
  is '结算时间';
comment on column SETL_D_OUTPATIENT.mdtrt_cert_type
  is '就诊凭证类型';
comment on column SETL_D_OUTPATIENT.mdtrt_cert_no
  is '就诊凭证编号';
comment on column SETL_D_OUTPATIENT.med_type
  is '医疗类别';
comment on column SETL_D_OUTPATIENT.setl_type
  is '结算类别';
comment on column SETL_D_OUTPATIENT.clr_type
  is '清算类别';
comment on column SETL_D_OUTPATIENT.clr_way
  is '清算方式';
comment on column SETL_D_OUTPATIENT.psn_setlway
  is '个人结算方式';
comment on column SETL_D_OUTPATIENT.medfee_sumamt
  is '医疗费总额';
comment on column SETL_D_OUTPATIENT.fulamt_ownpay_amt
  is '全自费金额';
comment on column SETL_D_OUTPATIENT.overlmt_selfpay
  is '超限价自费费用';
comment on column SETL_D_OUTPATIENT.preselfpay_amt
  is '先行自付金额';
comment on column SETL_D_OUTPATIENT.inscp_amt
  is '符合范围金额';
comment on column SETL_D_OUTPATIENT.dedc_std
  is '起付标准';
comment on column SETL_D_OUTPATIENT.crt_dedc
  is '本次起付线';
comment on column SETL_D_OUTPATIENT.act_pay_dedc
  is '实际支付起付线';
comment on column SETL_D_OUTPATIENT.hifp_pay
  is '统筹基金支出';
comment on column SETL_D_OUTPATIENT.pool_prop_selfpay
  is '基本医疗统筹支付比例';
comment on column SETL_D_OUTPATIENT.hi_agre_sumfee
  is '医保认可费用总额';
comment on column SETL_D_OUTPATIENT.cvlserv_pay
  is '公务员医疗补助资金支出';
comment on column SETL_D_OUTPATIENT.hifes_pay
  is '补充医疗保险基金支出';
comment on column SETL_D_OUTPATIENT.hifmi_pay
  is '大病补充医疗保险基金支出';
comment on column SETL_D_OUTPATIENT.hifob_pay
  is '大额医疗补助基金支出';
comment on column SETL_D_OUTPATIENT.hifdm_pay
  is '伤残人员医疗保障基金支出';
comment on column SETL_D_OUTPATIENT.maf_pay
  is '医疗救助基金支出';
comment on column SETL_D_OUTPATIENT.othfund_pay
  is '其它基金支付';
comment on column SETL_D_OUTPATIENT.fund_pay_sumamt
  is '基金支付总额';
comment on column SETL_D_OUTPATIENT.psn_pay
  is '个人支付金额';
comment on column SETL_D_OUTPATIENT.acct_pay
  is '个人账户支出';
comment on column SETL_D_OUTPATIENT.cash_payamt
  is '现金支付金额';
comment on column SETL_D_OUTPATIENT.ownpay_hosp_part
  is '自费中医院负担部分';
comment on column SETL_D_OUTPATIENT.balc
  is '余额';
comment on column SETL_D_OUTPATIENT.acct_mulaid_pay
  is '账户共济支付金额';
comment on column SETL_D_OUTPATIENT.refd_setl_flag
  is '退费结算标志';
comment on column SETL_D_OUTPATIENT.cal_ipt_cnt
  is '计算住院次数标志';
comment on column SETL_D_OUTPATIENT.setl_cashpay_way
  is '结算现金支付方式';
comment on column SETL_D_OUTPATIENT.year
  is '年度';
comment on column SETL_D_OUTPATIENT.dise_no
  is '病种编号';
comment on column SETL_D_OUTPATIENT.dise_name
  is '病种名称';
comment on column SETL_D_OUTPATIENT.invono
  is '发票号';
comment on column SETL_D_OUTPATIENT.manl_reim_rea
  is '零星报销原因';
comment on column SETL_D_OUTPATIENT.vali_flag
  is '有效标志';
comment on column SETL_D_OUTPATIENT.memo
  is '备注';
comment on column SETL_D_OUTPATIENT.rid
  is '数据唯一记录号';
comment on column SETL_D_OUTPATIENT.updt_time
  is '数据更新时间';
comment on column SETL_D_OUTPATIENT.crter_id
  is '创建人ID';
comment on column SETL_D_OUTPATIENT.crter_name
  is '创建人姓名';
comment on column SETL_D_OUTPATIENT.crte_time
  is '数据创建时间';
comment on column SETL_D_OUTPATIENT.crte_optins_no
  is '创建机构编号';
comment on column SETL_D_OUTPATIENT.opter_id
  is '经办人ID';
comment on column SETL_D_OUTPATIENT.opter_name
  is '经办人姓名';
comment on column SETL_D_OUTPATIENT.opt_time
  is '经办时间';
comment on column SETL_D_OUTPATIENT.optins_no
  is '经办机构编号';
comment on column SETL_D_OUTPATIENT.poolarea_no
  is '统筹区编号';
comment on column SETL_D_OUTPATIENT.mid_setl_flag
  is '中途结算标志';
comment on column SETL_D_OUTPATIENT.acct_used_flag
  is '账户使用标志';
comment on column SETL_D_OUTPATIENT.quts_type
  is '编制类型';
comment on column SETL_D_OUTPATIENT.bydise_setl_payamt
  is '按病种结算支付金额';
comment on column SETL_D_OUTPATIENT.exct_item_fund_payamt
  is '除外项目基金支付金额';
-- Grant/Revoke object privileges 
grant select on SETL_D_OUTPATIENT to DRGSPLATFORM_SQ;
```

#### FLDH

```SQL
-- Create table
create table FEE_LIST_D_HOSP
(
  bkkp_sn             VARCHAR2(30),
  mdtrt_id            VARCHAR2(30),
  fee_ocur_time       DATE,
  setl_id             VARCHAR2(30),
  rx_drord_no         VARCHAR2(30),
  fixmedins_code      VARCHAR2(30),
  fixmedins_name      VARCHAR2(200),
  psn_no              VARCHAR2(30),
  psn_insu_rlts_id    VARCHAR2(20),
  insu_admdvs         VARCHAR2(6),
  pay_loc             VARCHAR2(6),
  med_type            VARCHAR2(6),
  cnt                 NUMBER(16,4),
  pric                NUMBER(16,6),
  det_item_fee_sumamt NUMBER(16,2),
  pric_uplmt_amt      NUMBER(16,6),
  selfpay_prop        NUMBER(5,4),
  fulamt_ownpay_amt   NUMBER(16,2),
  overlmt_selfpay     NUMBER(16,2),
  preselfpay_amt      NUMBER(16,2),
  inscp_amt           NUMBER(16,2),
  cvlserv_bedfee_amt  NUMBER(16,2),
  medins_disc_amt     NUMBER(16,2),
  chrgitm_lv          VARCHAR2(3),
  hilist_code         VARCHAR2(50),
  hilist_name         VARCHAR2(200),
  list_type           VARCHAR2(6),
  med_list_codg       VARCHAR2(50),
  medins_list_codg    VARCHAR2(150),
  med_chrgitm_type    VARCHAR2(6),
  prodname            VARCHAR2(2000),
  spec                VARCHAR2(200),
  dosform_name        VARCHAR2(200),
  bilg_dept_codg      VARCHAR2(30),
  bilg_dept_name      VARCHAR2(100),
  bilg_dr_code        VARCHAR2(30),
  bilg_dr_name        VARCHAR2(50),
  acord_dept_codg     VARCHAR2(30),
  acord_dept_name     VARCHAR2(100),
  acord_dr_code       VARCHAR2(30),
  acord_dr_name       VARCHAR2(50),
  lmt_used_flag       VARCHAR2(3),
  hosp_prep_flag      VARCHAR2(3),
  hosp_appr_flag      VARCHAR2(3),
  tcmdrug_used_way    VARCHAR2(6),
  prodplac_type       VARCHAR2(6),
  bas_medn_flag       VARCHAR2(3),
  hi_nego_drug_flag   VARCHAR2(3),
  prcu_drug_flag      VARCHAR2(3),
  chld_medc_flag      VARCHAR2(3),
  etip_flag           VARCHAR2(3),
  etip_hosp_code      VARCHAR2(30),
  dscg_tkdrug_flag    VARCHAR2(3),
  list_sp_item_flag   VARCHAR2(3),
  matn_fee_flag       VARCHAR2(6),
  drt_reim_flag       VARCHAR2(3),
  reim_prop           NUMBER(5,4),
  oprn_oprt_code      VARCHAR2(30),
  sin_dos_dscr        VARCHAR2(200),
  used_frqu_dscr      VARCHAR2(200),
  prd_days            NUMBER(6,2),
  medc_way_dscr       VARCHAR2(200),
  memo                CLOB,
  vali_flag           VARCHAR2(3),
  rid                 VARCHAR2(40),
  updt_time           DATE,
  crter_id            VARCHAR2(20),
  crter_name          VARCHAR2(50),
  crte_time           DATE,
  crte_optins_no      VARCHAR2(20),
  opter_id            VARCHAR2(20),
  opter_name          VARCHAR2(50),
  opt_time            DATE,
  optins_no           VARCHAR2(20),
  poolarea_no         VARCHAR2(6),
  rx_circ_flag        VARCHAR2(3),
  dise_codg           VARCHAR2(30),
  chrg_bchno          VARCHAR2(30),
  init_feedetl_sn     VARCHAR2(30),
  comb_no             VARCHAR2(3),
  medins_list_name    VARCHAR2(120)
)
PARTITION BY RANGE (UPDT_TIME)(
    partition PART202001BEFORE values less than (TO_DATE(' 2020-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202001 values less than (TO_DATE(' 2020-02-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202002 values less than (TO_DATE(' 2020-03-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202003 values less than (TO_DATE(' 2020-04-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202004 values less than (TO_DATE(' 2020-05-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202005 values less than (TO_DATE(' 2020-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202006 values less than (TO_DATE(' 2020-07-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202007 values less than (TO_DATE(' 2020-08-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202008 values less than (TO_DATE(' 2020-09-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202009 values less than (TO_DATE(' 2020-10-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202010 values less than (TO_DATE(' 2020-11-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202011 values less than (TO_DATE(' 2020-12-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202012 values less than (TO_DATE(' 2021-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202101 values less than (TO_DATE(' 2021-02-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202102 values less than (TO_DATE(' 2021-03-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202103 values less than (TO_DATE(' 2021-04-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202104 values less than (TO_DATE(' 2021-05-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202105 values less than (TO_DATE(' 2021-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202106 values less than (TO_DATE(' 2021-07-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202107 values less than (TO_DATE(' 2021-08-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202108 values less than (TO_DATE(' 2021-09-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202109 values less than (TO_DATE(' 2021-10-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202110 values less than (TO_DATE(' 2021-11-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202111 values less than (TO_DATE(' 2021-12-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    )
);
-- Add comments to the table 
comment on table FEE_LIST_D_HOSP
  is '住院费用明细表';
-- Add comments to the columns 
comment on column FEE_LIST_D_HOSP.bkkp_sn
  is '记账流水号';
comment on column FEE_LIST_D_HOSP.mdtrt_id
  is '就诊ID';
comment on column FEE_LIST_D_HOSP.fee_ocur_time
  is '费用发生时间';
comment on column FEE_LIST_D_HOSP.setl_id
  is '结算ID';
comment on column FEE_LIST_D_HOSP.rx_drord_no
  is '处方医嘱号';
comment on column FEE_LIST_D_HOSP.fixmedins_code
  is '定点医药机构编号';
comment on column FEE_LIST_D_HOSP.fixmedins_name
  is '定点医药机构名称';
comment on column FEE_LIST_D_HOSP.psn_no
  is '人员编号';
comment on column FEE_LIST_D_HOSP.psn_insu_rlts_id
  is '人员参保关系ID';
comment on column FEE_LIST_D_HOSP.insu_admdvs
  is '参保所属医保区划';
comment on column FEE_LIST_D_HOSP.pay_loc
  is '支付地点类别';
comment on column FEE_LIST_D_HOSP.med_type
  is '医疗类别';
comment on column FEE_LIST_D_HOSP.cnt
  is '数量';
comment on column FEE_LIST_D_HOSP.pric
  is '单价';
comment on column FEE_LIST_D_HOSP.det_item_fee_sumamt
  is '明细项目费用总额';
comment on column FEE_LIST_D_HOSP.pric_uplmt_amt
  is '定价上限金额';
comment on column FEE_LIST_D_HOSP.selfpay_prop
  is '自付比例';
comment on column FEE_LIST_D_HOSP.fulamt_ownpay_amt
  is '全自费金额';
comment on column FEE_LIST_D_HOSP.overlmt_selfpay
  is '超限价自费费用';
comment on column FEE_LIST_D_HOSP.preselfpay_amt
  is '先行自付金额';
comment on column FEE_LIST_D_HOSP.inscp_amt
  is '符合范围金额';
comment on column FEE_LIST_D_HOSP.cvlserv_bedfee_amt
  is '公务员床位费金额';
comment on column FEE_LIST_D_HOSP.medins_disc_amt
  is '医院减免金额';
comment on column FEE_LIST_D_HOSP.chrgitm_lv
  is '收费项目等级';
comment on column FEE_LIST_D_HOSP.hilist_code
  is '医保目录编码';
comment on column FEE_LIST_D_HOSP.hilist_name
  is '医保目录名称';
comment on column FEE_LIST_D_HOSP.list_type
  is '目录类别';
comment on column FEE_LIST_D_HOSP.med_list_codg
  is '医疗目录编码';
comment on column FEE_LIST_D_HOSP.medins_list_codg
  is '医药机构目录编码';
comment on column FEE_LIST_D_HOSP.med_chrgitm_type
  is '医疗收费项目类别';
comment on column FEE_LIST_D_HOSP.prodname
  is '商品名';
comment on column FEE_LIST_D_HOSP.spec
  is '规格';
comment on column FEE_LIST_D_HOSP.dosform_name
  is '剂型名称';
comment on column FEE_LIST_D_HOSP.bilg_dept_codg
  is '开单科室编码';
comment on column FEE_LIST_D_HOSP.bilg_dept_name
  is '开单科室名称';
comment on column FEE_LIST_D_HOSP.bilg_dr_code
  is '开单医师代码';
comment on column FEE_LIST_D_HOSP.bilg_dr_name
  is '开单医师姓名';
comment on column FEE_LIST_D_HOSP.acord_dept_codg
  is '受单科室编码';
comment on column FEE_LIST_D_HOSP.acord_dept_name
  is '受单科室名称';
comment on column FEE_LIST_D_HOSP.acord_dr_code
  is '受单医师代码';
comment on column FEE_LIST_D_HOSP.acord_dr_name
  is '受单医师姓名';
comment on column FEE_LIST_D_HOSP.lmt_used_flag
  is '限制使用标志';
comment on column FEE_LIST_D_HOSP.hosp_prep_flag
  is '医院制剂标志';
comment on column FEE_LIST_D_HOSP.hosp_appr_flag
  is '医院审批标志';
comment on column FEE_LIST_D_HOSP.tcmdrug_used_way
  is '中药使用方式';
comment on column FEE_LIST_D_HOSP.prodplac_type
  is '生产地类别';
comment on column FEE_LIST_D_HOSP.bas_medn_flag
  is '基本药物标志';
comment on column FEE_LIST_D_HOSP.hi_nego_drug_flag
  is '医保谈判药品标志';
comment on column FEE_LIST_D_HOSP.prcu_drug_flag
  is '贵重药品标志';
comment on column FEE_LIST_D_HOSP.chld_medc_flag
  is '儿童用药标志';
comment on column FEE_LIST_D_HOSP.etip_flag
  is '外检标志';
comment on column FEE_LIST_D_HOSP.etip_hosp_code
  is '外检医院编码';
comment on column FEE_LIST_D_HOSP.dscg_tkdrug_flag
  is '出院带药标志';
comment on column FEE_LIST_D_HOSP.list_sp_item_flag
  is '目录特项标志';
comment on column FEE_LIST_D_HOSP.matn_fee_flag
  is '生育费用标志';
comment on column FEE_LIST_D_HOSP.drt_reim_flag
  is '直报标志';
comment on column FEE_LIST_D_HOSP.reim_prop
  is '报销比例';
comment on column FEE_LIST_D_HOSP.oprn_oprt_code
  is '手术操作代码';
comment on column FEE_LIST_D_HOSP.sin_dos_dscr
  is '单次剂量描述';
comment on column FEE_LIST_D_HOSP.used_frqu_dscr
  is '使用频次描述';
comment on column FEE_LIST_D_HOSP.prd_days
  is '周期天数';
comment on column FEE_LIST_D_HOSP.medc_way_dscr
  is '用药途径描述';
comment on column FEE_LIST_D_HOSP.memo
  is '备注';
comment on column FEE_LIST_D_HOSP.vali_flag
  is '有效标志';
comment on column FEE_LIST_D_HOSP.rid
  is '数据唯一记录号';
comment on column FEE_LIST_D_HOSP.updt_time
  is '数据更新时间';
comment on column FEE_LIST_D_HOSP.crter_id
  is '创建人ID';
comment on column FEE_LIST_D_HOSP.crter_name
  is '创建人姓名';
comment on column FEE_LIST_D_HOSP.crte_time
  is '数据创建时间';
comment on column FEE_LIST_D_HOSP.crte_optins_no
  is '创建机构编号';
comment on column FEE_LIST_D_HOSP.opter_id
  is '经办人ID';
comment on column FEE_LIST_D_HOSP.opter_name
  is '经办人姓名';
comment on column FEE_LIST_D_HOSP.opt_time
  is '经办时间';
comment on column FEE_LIST_D_HOSP.optins_no
  is '经办机构编号';
comment on column FEE_LIST_D_HOSP.poolarea_no
  is '统筹区编号';
comment on column FEE_LIST_D_HOSP.rx_circ_flag
  is '处方流转标志';
comment on column FEE_LIST_D_HOSP.dise_codg
  is '病种编码';
comment on column FEE_LIST_D_HOSP.chrg_bchno
  is '收费批次号';
comment on column FEE_LIST_D_HOSP.init_feedetl_sn
  is '原费用明细流水号';
comment on column FEE_LIST_D_HOSP.comb_no
  is '组套编号';
comment on column FEE_LIST_D_HOSP.medins_list_name
  is '医药机构目录名称';
-- Grant/Revoke object privileges 
grant select on FEE_LIST_D_HOSP to DRGSPLATFORM_SQ;
```

#### FLDO

```SQL
-- Create table
create table FEE_LIST_D_OUTPATIENT
(
  bkkp_sn             VARCHAR2(30),
  mdtrt_id            VARCHAR2(30),
  fee_ocur_time       DATE,
  setl_id             VARCHAR2(30),
  rx_drord_no         VARCHAR2(30),
  fixmedins_code      VARCHAR2(30),
  fixmedins_name      VARCHAR2(200),
  psn_no              VARCHAR2(30),
  psn_insu_rlts_id    VARCHAR2(20),
  insu_admdvs         VARCHAR2(6),
  pay_loc             VARCHAR2(6),
  med_type            VARCHAR2(6),
  cnt                 NUMBER(16,4),
  pric                NUMBER(16,6),
  det_item_fee_sumamt NUMBER(16,2),
  pric_uplmt_amt      NUMBER(16,6),
  selfpay_prop        NUMBER(5,4),
  fulamt_ownpay_amt   NUMBER(16,2),
  overlmt_selfpay     NUMBER(16,2),
  preselfpay_amt      NUMBER(16,2),
  inscp_amt           NUMBER(16,2),
  cvlserv_bedfee_amt  NUMBER(16,2),
  medins_disc_amt     NUMBER(16,2),
  chrgitm_lv          VARCHAR2(3),
  hilist_code         VARCHAR2(50),
  hilist_name         VARCHAR2(200),
  list_type           VARCHAR2(6),
  med_list_codg       VARCHAR2(50),
  medins_list_codg    VARCHAR2(150),
  med_chrgitm_type    VARCHAR2(6),
  prodname            VARCHAR2(2000),
  spec                VARCHAR2(200),
  dosform_name        VARCHAR2(200),
  bilg_dept_codg      VARCHAR2(30),
  bilg_dept_name      VARCHAR2(100),
  bilg_dr_code        VARCHAR2(30),
  bilg_dr_name        VARCHAR2(50),
  acord_dept_codg     VARCHAR2(30),
  acord_dept_name     VARCHAR2(100),
  acord_dr_code       VARCHAR2(30),
  acord_dr_name       VARCHAR2(50),
  lmt_used_flag       VARCHAR2(3),
  hosp_prep_flag      VARCHAR2(3),
  hosp_appr_flag      VARCHAR2(3),
  tcmdrug_used_way    VARCHAR2(6),
  prodplac_type       VARCHAR2(6),
  bas_medn_flag       VARCHAR2(3),
  hi_nego_drug_flag   VARCHAR2(3),
  prcu_drug_flag      VARCHAR2(3),
  chld_medc_flag      VARCHAR2(3),
  etip_flag           VARCHAR2(3),
  etip_hosp_code      VARCHAR2(30),
  dscg_tkdrug_flag    VARCHAR2(3),
  list_sp_item_flag   VARCHAR2(3),
  matn_fee_flag       VARCHAR2(6),
  drt_reim_flag       VARCHAR2(3),
  reim_prop           NUMBER(5,4),
  oprn_oprt_code      VARCHAR2(30),
  sin_dos_dscr        VARCHAR2(200),
  used_frqu_dscr      VARCHAR2(200),
  prd_days            NUMBER(6,2),
  medc_way_dscr       VARCHAR2(200),
  memo                CLOB,
  vali_flag           VARCHAR2(3),
  rid                 VARCHAR2(40),
  updt_time           DATE,
  crter_id            VARCHAR2(20),
  crter_name          VARCHAR2(50),
  crte_time           DATE,
  crte_optins_no      VARCHAR2(20),
  opter_id            VARCHAR2(20),
  opter_name          VARCHAR2(50),
  opt_time            DATE,
  optins_no           VARCHAR2(20),
  poolarea_no         VARCHAR2(6),
  rx_circ_flag        VARCHAR2(3),
  dise_codg           VARCHAR2(30),
  chrg_bchno          VARCHAR2(30),
  init_feedetl_sn     VARCHAR2(30),
  comb_no             VARCHAR2(3),
  medins_list_name    VARCHAR2(120)
)
PARTITION BY RANGE (UPDT_TIME)(
	partition PART202001BEFORE values less than (TO_DATE(' 2020-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202001 values less than (TO_DATE(' 2020-02-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202002 values less than (TO_DATE(' 2020-03-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202003 values less than (TO_DATE(' 2020-04-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202004 values less than (TO_DATE(' 2020-05-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202005 values less than (TO_DATE(' 2020-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202006 values less than (TO_DATE(' 2020-07-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202007 values less than (TO_DATE(' 2020-08-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202008 values less than (TO_DATE(' 2020-09-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202009 values less than (TO_DATE(' 2020-10-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202010 values less than (TO_DATE(' 2020-11-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202011 values less than (TO_DATE(' 2020-12-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202012 values less than (TO_DATE(' 2021-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202101 values less than (TO_DATE(' 2021-02-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202102 values less than (TO_DATE(' 2021-03-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202103 values less than (TO_DATE(' 2021-04-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202104 values less than (TO_DATE(' 2021-05-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202105 values less than (TO_DATE(' 2021-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202106 values less than (TO_DATE(' 2021-07-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202107 values less than (TO_DATE(' 2021-08-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202108 values less than (TO_DATE(' 2021-09-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202109 values less than (TO_DATE(' 2021-10-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202110 values less than (TO_DATE(' 2021-11-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202111 values less than (TO_DATE(' 2021-12-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    )
);
-- Add comments to the table 
comment on table FEE_LIST_D_OUTPATIENT
  is '门诊费用明细表';
-- Add comments to the columns 
comment on column FEE_LIST_D_OUTPATIENT.bkkp_sn
  is '记账流水号';
comment on column FEE_LIST_D_OUTPATIENT.mdtrt_id
  is '就诊ID';
comment on column FEE_LIST_D_OUTPATIENT.fee_ocur_time
  is '费用发生时间';
comment on column FEE_LIST_D_OUTPATIENT.setl_id
  is '结算ID';
comment on column FEE_LIST_D_OUTPATIENT.rx_drord_no
  is '处方医嘱号';
comment on column FEE_LIST_D_OUTPATIENT.fixmedins_code
  is '定点医药机构编号';
comment on column FEE_LIST_D_OUTPATIENT.fixmedins_name
  is '定点医药机构名称';
comment on column FEE_LIST_D_OUTPATIENT.psn_no
  is '人员编号';
comment on column FEE_LIST_D_OUTPATIENT.psn_insu_rlts_id
  is '人员参保关系ID';
comment on column FEE_LIST_D_OUTPATIENT.insu_admdvs
  is '参保所属医保区划';
comment on column FEE_LIST_D_OUTPATIENT.pay_loc
  is '支付地点类别';
comment on column FEE_LIST_D_OUTPATIENT.med_type
  is '医疗类别';
comment on column FEE_LIST_D_OUTPATIENT.cnt
  is '数量';
comment on column FEE_LIST_D_OUTPATIENT.pric
  is '单价';
comment on column FEE_LIST_D_OUTPATIENT.det_item_fee_sumamt
  is '明细项目费用总额';
comment on column FEE_LIST_D_OUTPATIENT.pric_uplmt_amt
  is '定价上限金额';
comment on column FEE_LIST_D_OUTPATIENT.selfpay_prop
  is '自付比例';
comment on column FEE_LIST_D_OUTPATIENT.fulamt_ownpay_amt
  is '全自费金额';
comment on column FEE_LIST_D_OUTPATIENT.overlmt_selfpay
  is '超限价自费费用';
comment on column FEE_LIST_D_OUTPATIENT.preselfpay_amt
  is '先行自付金额';
comment on column FEE_LIST_D_OUTPATIENT.inscp_amt
  is '符合范围金额';
comment on column FEE_LIST_D_OUTPATIENT.cvlserv_bedfee_amt
  is '公务员床位费金额';
comment on column FEE_LIST_D_OUTPATIENT.medins_disc_amt
  is '医院减免金额';
comment on column FEE_LIST_D_OUTPATIENT.chrgitm_lv
  is '收费项目等级';
comment on column FEE_LIST_D_OUTPATIENT.hilist_code
  is '医保目录编码';
comment on column FEE_LIST_D_OUTPATIENT.hilist_name
  is '医保目录名称';
comment on column FEE_LIST_D_OUTPATIENT.list_type
  is '目录类别';
comment on column FEE_LIST_D_OUTPATIENT.med_list_codg
  is '医疗目录编码';
comment on column FEE_LIST_D_OUTPATIENT.medins_list_codg
  is '医药机构目录编码';
comment on column FEE_LIST_D_OUTPATIENT.med_chrgitm_type
  is '医疗收费项目类别';
comment on column FEE_LIST_D_OUTPATIENT.prodname
  is '商品名';
comment on column FEE_LIST_D_OUTPATIENT.spec
  is '规格';
comment on column FEE_LIST_D_OUTPATIENT.dosform_name
  is '剂型名称';
comment on column FEE_LIST_D_OUTPATIENT.bilg_dept_codg
  is '开单科室编码';
comment on column FEE_LIST_D_OUTPATIENT.bilg_dept_name
  is '开单科室名称';
comment on column FEE_LIST_D_OUTPATIENT.bilg_dr_code
  is '开单医师代码';
comment on column FEE_LIST_D_OUTPATIENT.bilg_dr_name
  is '开单医师姓名';
comment on column FEE_LIST_D_OUTPATIENT.acord_dept_codg
  is '受单科室编码';
comment on column FEE_LIST_D_OUTPATIENT.acord_dept_name
  is '受单科室名称';
comment on column FEE_LIST_D_OUTPATIENT.acord_dr_code
  is '受单医师代码';
comment on column FEE_LIST_D_OUTPATIENT.acord_dr_name
  is '受单医师姓名';
comment on column FEE_LIST_D_OUTPATIENT.lmt_used_flag
  is '限制使用标志';
comment on column FEE_LIST_D_OUTPATIENT.hosp_prep_flag
  is '医院制剂标志';
comment on column FEE_LIST_D_OUTPATIENT.hosp_appr_flag
  is '医院审批标志';
comment on column FEE_LIST_D_OUTPATIENT.tcmdrug_used_way
  is '中药使用方式';
comment on column FEE_LIST_D_OUTPATIENT.prodplac_type
  is '生产地类别';
comment on column FEE_LIST_D_OUTPATIENT.bas_medn_flag
  is '基本药物标志';
comment on column FEE_LIST_D_OUTPATIENT.hi_nego_drug_flag
  is '医保谈判药品标志';
comment on column FEE_LIST_D_OUTPATIENT.prcu_drug_flag
  is '贵重药品标志';
comment on column FEE_LIST_D_OUTPATIENT.chld_medc_flag
  is '儿童用药标志';
comment on column FEE_LIST_D_OUTPATIENT.etip_flag
  is '外检标志';
comment on column FEE_LIST_D_OUTPATIENT.etip_hosp_code
  is '外检医院编码';
comment on column FEE_LIST_D_OUTPATIENT.dscg_tkdrug_flag
  is '出院带药标志';
comment on column FEE_LIST_D_OUTPATIENT.list_sp_item_flag
  is '目录特项标志';
comment on column FEE_LIST_D_OUTPATIENT.matn_fee_flag
  is '生育费用标志';
comment on column FEE_LIST_D_OUTPATIENT.drt_reim_flag
  is '直报标志';
comment on column FEE_LIST_D_OUTPATIENT.reim_prop
  is '报销比例';
comment on column FEE_LIST_D_OUTPATIENT.oprn_oprt_code
  is '手术操作代码';
comment on column FEE_LIST_D_OUTPATIENT.sin_dos_dscr
  is '单次剂量描述';
comment on column FEE_LIST_D_OUTPATIENT.used_frqu_dscr
  is '使用频次描述';
comment on column FEE_LIST_D_OUTPATIENT.prd_days
  is '周期天数';
comment on column FEE_LIST_D_OUTPATIENT.medc_way_dscr
  is '用药途径描述';
comment on column FEE_LIST_D_OUTPATIENT.memo
  is '备注';
comment on column FEE_LIST_D_OUTPATIENT.vali_flag
  is '有效标志';
comment on column FEE_LIST_D_OUTPATIENT.rid
  is '数据唯一记录号';
comment on column FEE_LIST_D_OUTPATIENT.updt_time
  is '数据更新时间';
comment on column FEE_LIST_D_OUTPATIENT.crter_id
  is '创建人ID';
comment on column FEE_LIST_D_OUTPATIENT.crter_name
  is '创建人姓名';
comment on column FEE_LIST_D_OUTPATIENT.crte_time
  is '数据创建时间';
comment on column FEE_LIST_D_OUTPATIENT.crte_optins_no
  is '创建机构编号';
comment on column FEE_LIST_D_OUTPATIENT.opter_id
  is '经办人ID';
comment on column FEE_LIST_D_OUTPATIENT.opter_name
  is '经办人姓名';
comment on column FEE_LIST_D_OUTPATIENT.opt_time
  is '经办时间';
comment on column FEE_LIST_D_OUTPATIENT.optins_no
  is '经办机构编号';
comment on column FEE_LIST_D_OUTPATIENT.poolarea_no
  is '统筹区编号';
comment on column FEE_LIST_D_OUTPATIENT.rx_circ_flag
  is '处方流转标志';
comment on column FEE_LIST_D_OUTPATIENT.dise_codg
  is '病种编码';
comment on column FEE_LIST_D_OUTPATIENT.chrg_bchno
  is '收费批次号';
comment on column FEE_LIST_D_OUTPATIENT.init_feedetl_sn
  is '原费用明细流水号';
comment on column FEE_LIST_D_OUTPATIENT.comb_no
  is '组套编号';
comment on column FEE_LIST_D_OUTPATIENT.medins_list_name
  is '医药机构目录名称';
-- Grant/Revoke object privileges 
grant select on FEE_LIST_D_OUTPATIENT to DRGSPLATFORM_SQ;
```

#### OSD

```SQL
-- Create table
create table OUTMED_SETL_D
(
  setl_id           VARCHAR2(30),
  clr_optins        VARCHAR2(6),
  medins_setl_id    VARCHAR2(30),
  mdtrt_id          VARCHAR2(30),
  init_setl_id      VARCHAR2(30),
  psn_no            VARCHAR2(30),
  psn_insu_rlts_id  VARCHAR2(20),
  psn_name          VARCHAR2(50),
  psn_cert_type     VARCHAR2(6),
  certno            VARCHAR2(600),
  gend              VARCHAR2(6),
  naty              VARCHAR2(3),
  brdy              DATE,
  age               NUMBER(4,1),
  insutype          VARCHAR2(6),
  psn_type          VARCHAR2(6),
  cvlserv_flag      VARCHAR2(3),
  cvlserv_lv        VARCHAR2(6),
  sp_psn_type       VARCHAR2(6),
  sp_psn_type_lv    VARCHAR2(3),
  clct_grde         VARCHAR2(3),
  flxempe_flag      VARCHAR2(3),
  nwb_flag          VARCHAR2(3),
  insu_admdvs       VARCHAR2(6),
  emp_no            VARCHAR2(40),
  emp_name          VARCHAR2(200),
  emp_type          VARCHAR2(6),
  econ_type         VARCHAR2(6),
  afil_indu         VARCHAR2(6),
  afil_rlts         VARCHAR2(6),
  emp_mgt_type      VARCHAR2(6),
  pay_loc           VARCHAR2(6),
  fixmedins_code    VARCHAR2(30),
  fixmedins_name    VARCHAR2(200),
  hosp_lv           VARCHAR2(6),
  fix_blng_admdvs   VARCHAR2(6),
  lmtpric_hosp_lv   VARCHAR2(6),
  dedc_hosp_lv      VARCHAR2(6),
  begndate          DATE,
  enddate           DATE,
  setl_time         DATE,
  mdtrt_cert_type   VARCHAR2(3),
  mdtrt_cert_no     VARCHAR2(50),
  med_type          VARCHAR2(6),
  setl_type         VARCHAR2(6),
  clr_type          VARCHAR2(6),
  clr_way           VARCHAR2(6),
  psn_setlway       VARCHAR2(6),
  medfee_sumamt     NUMBER(16,2),
  fulamt_ownpay_amt NUMBER(16,2),
  overlmt_selfpay   NUMBER(16,2),
  preselfpay_amt    NUMBER(16,2),
  inscp_amt         NUMBER(16,2),
  dedc_std          NUMBER(16,2),
  crt_dedc          NUMBER(16,2),
  act_pay_dedc      NUMBER(16,2),
  hifp_pay          NUMBER(16,2),
  pool_prop_selfpay NUMBER(5,4),
  hi_agre_sumfee    NUMBER(16,2),
  cvlserv_pay       NUMBER(16,2),
  hifes_pay         NUMBER(16,2),
  hifmi_pay         NUMBER(16,2),
  hifob_pay         NUMBER(16,2),
  hifdm_pay         NUMBER(16,2),
  maf_pay           NUMBER(16,2),
  othfund_pay       NUMBER(16,2),
  fund_pay_sumamt   NUMBER(16,2),
  psn_pay           NUMBER(16,2),
  acct_pay          NUMBER(16,2),
  cash_payamt       NUMBER(16,2),
  ownpay_hosp_part  NUMBER(16,2),
  balc              NUMBER(16,2),
  acct_mulaid_pay   NUMBER(16,2),
  refd_setl_flag    VARCHAR2(3),
  cal_ipt_cnt       VARCHAR2(3),
  setl_cashpay_way  VARCHAR2(6),
  year              VARCHAR2(4),
  dise_no           VARCHAR2(30),
  dise_name         VARCHAR2(500),
  invono            VARCHAR2(200),
  manl_reim_rea     VARCHAR2(6),
  vali_flag         VARCHAR2(3),
  memo              CLOB,
  rid               VARCHAR2(40),
  updt_time         DATE,
  crter_id          VARCHAR2(20),
  crter_name        VARCHAR2(50),
  crte_time         DATE,
  crte_optins_no    VARCHAR2(20),
  opter_id          VARCHAR2(20),
  opter_name        VARCHAR2(50),
  opt_time          DATE,
  optins_no         VARCHAR2(20),
  poolarea_no       VARCHAR2(6)
)
PARTITION BY RANGE (UPDT_TIME)(
	partition PART202101BEFORE values less than (TO_DATE(' 2021-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202101 values less than (TO_DATE(' 2021-02-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202102 values less than (TO_DATE(' 2021-03-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202103 values less than (TO_DATE(' 2021-04-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202104 values less than (TO_DATE(' 2021-05-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202105 values less than (TO_DATE(' 2021-06-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202106 values less than (TO_DATE(' 2021-07-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202107 values less than (TO_DATE(' 2021-08-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202108 values less than (TO_DATE(' 2021-09-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202109 values less than (TO_DATE(' 2021-10-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202110 values less than (TO_DATE(' 2021-11-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    ),
    partition PART202111 values less than (TO_DATE(' 2021-12-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN'))
    tablespace SICP_DATA
    pctfree 10
    initrans 1
    maxtrans 255
    storage
    (
      initial 8M
      next 1M
      minextents 1
      maxextents unlimited
    )
);
-- Add comments to the table 
comment on table OUTMED_SETL_D
  is '异地就医结算信息表';
-- Add comments to the columns 
comment on column OUTMED_SETL_D.setl_id
  is '结算ID';
comment on column OUTMED_SETL_D.clr_optins
  is '清算经办机构';
comment on column OUTMED_SETL_D.medins_setl_id
  is '医药机构结算ID';
comment on column OUTMED_SETL_D.mdtrt_id
  is '就诊ID';
comment on column OUTMED_SETL_D.init_setl_id
  is '原结算ID';
comment on column OUTMED_SETL_D.psn_no
  is '人员编号';
comment on column OUTMED_SETL_D.psn_insu_rlts_id
  is '人员参保关系ID';
comment on column OUTMED_SETL_D.psn_name
  is '人员姓名';
comment on column OUTMED_SETL_D.psn_cert_type
  is '人员证件类型';
comment on column OUTMED_SETL_D.certno
  is '证件号码';
comment on column OUTMED_SETL_D.gend
  is '性别';
comment on column OUTMED_SETL_D.naty
  is '民族';
comment on column OUTMED_SETL_D.brdy
  is '出生日期';
comment on column OUTMED_SETL_D.age
  is '年龄';
comment on column OUTMED_SETL_D.insutype
  is '险种类型';
comment on column OUTMED_SETL_D.psn_type
  is '人员类别';
comment on column OUTMED_SETL_D.cvlserv_flag
  is '公务员标志';
comment on column OUTMED_SETL_D.cvlserv_lv
  is '公务员等级';
comment on column OUTMED_SETL_D.sp_psn_type
  is '特殊人员类型';
comment on column OUTMED_SETL_D.sp_psn_type_lv
  is '特殊人员类型等级';
comment on column OUTMED_SETL_D.clct_grde
  is '缴费档次';
comment on column OUTMED_SETL_D.flxempe_flag
  is '灵活就业标志';
comment on column OUTMED_SETL_D.nwb_flag
  is '新生儿标志';
comment on column OUTMED_SETL_D.insu_admdvs
  is '参保所属医保区划';
comment on column OUTMED_SETL_D.emp_no
  is '单位编号';
comment on column OUTMED_SETL_D.emp_name
  is '单位名称';
comment on column OUTMED_SETL_D.emp_type
  is '单位类型';
comment on column OUTMED_SETL_D.econ_type
  is '经济类型';
comment on column OUTMED_SETL_D.afil_indu
  is '所属行业';
comment on column OUTMED_SETL_D.afil_rlts
  is '隶属关系';
comment on column OUTMED_SETL_D.emp_mgt_type
  is '单位管理类型';
comment on column OUTMED_SETL_D.pay_loc
  is '支付地点类别';
comment on column OUTMED_SETL_D.fixmedins_code
  is '定点医药机构编号';
comment on column OUTMED_SETL_D.fixmedins_name
  is '定点医药机构名称';
comment on column OUTMED_SETL_D.hosp_lv
  is '医院等级';
comment on column OUTMED_SETL_D.fix_blng_admdvs
  is '定点归属医保区划';
comment on column OUTMED_SETL_D.lmtpric_hosp_lv
  is '限价医院等级';
comment on column OUTMED_SETL_D.dedc_hosp_lv
  is '起付线医院等级';
comment on column OUTMED_SETL_D.begndate
  is '开始日期';
comment on column OUTMED_SETL_D.enddate
  is '结束日期';
comment on column OUTMED_SETL_D.setl_time
  is '结算时间';
comment on column OUTMED_SETL_D.mdtrt_cert_type
  is '就诊凭证类型';
comment on column OUTMED_SETL_D.mdtrt_cert_no
  is '就诊凭证编号';
comment on column OUTMED_SETL_D.med_type
  is '医疗类别';
comment on column OUTMED_SETL_D.setl_type
  is '结算类别';
comment on column OUTMED_SETL_D.clr_type
  is '清算类别';
comment on column OUTMED_SETL_D.clr_way
  is '清算方式';
comment on column OUTMED_SETL_D.psn_setlway
  is '个人结算方式';
comment on column OUTMED_SETL_D.medfee_sumamt
  is '医疗费总额';
comment on column OUTMED_SETL_D.fulamt_ownpay_amt
  is '全自费金额';
comment on column OUTMED_SETL_D.overlmt_selfpay
  is '超限价自费费用';
comment on column OUTMED_SETL_D.preselfpay_amt
  is '先行自付金额';
comment on column OUTMED_SETL_D.inscp_amt
  is '符合范围金额';
comment on column OUTMED_SETL_D.dedc_std
  is '起付标准';
comment on column OUTMED_SETL_D.crt_dedc
  is '本次起付线';
comment on column OUTMED_SETL_D.act_pay_dedc
  is '实际支付起付线';
comment on column OUTMED_SETL_D.hifp_pay
  is '统筹基金支出';
comment on column OUTMED_SETL_D.pool_prop_selfpay
  is '基本医疗统筹支付比例';
comment on column OUTMED_SETL_D.hi_agre_sumfee
  is '医保认可费用总额';
comment on column OUTMED_SETL_D.cvlserv_pay
  is '公务员医疗补助资金支出';
comment on column OUTMED_SETL_D.hifes_pay
  is '补充医疗保险基金支出';
comment on column OUTMED_SETL_D.hifmi_pay
  is '大病补充医疗保险基金支出';
comment on column OUTMED_SETL_D.hifob_pay
  is '大额医疗补助基金支出';
comment on column OUTMED_SETL_D.hifdm_pay
  is '伤残人员医疗保障基金支出';
comment on column OUTMED_SETL_D.maf_pay
  is '医疗救助基金支出';
comment on column OUTMED_SETL_D.othfund_pay
  is '其它基金支付';
comment on column OUTMED_SETL_D.fund_pay_sumamt
  is '基金支付总额';
comment on column OUTMED_SETL_D.psn_pay
  is '个人支付金额';
comment on column OUTMED_SETL_D.acct_pay
  is '个人账户支出';
comment on column OUTMED_SETL_D.cash_payamt
  is '现金支付金额';
comment on column OUTMED_SETL_D.ownpay_hosp_part
  is '自费中医院负担部分';
comment on column OUTMED_SETL_D.balc
  is '余额';
comment on column OUTMED_SETL_D.acct_mulaid_pay
  is '账户共济支付金额';
comment on column OUTMED_SETL_D.refd_setl_flag
  is '退费结算标志';
comment on column OUTMED_SETL_D.cal_ipt_cnt
  is '计算住院次数标志';
comment on column OUTMED_SETL_D.setl_cashpay_way
  is '结算现金支付方式';
comment on column OUTMED_SETL_D.year
  is '年度';
comment on column OUTMED_SETL_D.dise_no
  is '病种编号';
comment on column OUTMED_SETL_D.dise_name
  is '病种名称';
comment on column OUTMED_SETL_D.invono
  is '发票号';
comment on column OUTMED_SETL_D.manl_reim_rea
  is '零星报销原因';
comment on column OUTMED_SETL_D.vali_flag
  is '有效标志';
comment on column OUTMED_SETL_D.memo
  is '备注';
comment on column OUTMED_SETL_D.rid
  is '数据唯一记录号';
comment on column OUTMED_SETL_D.updt_time
  is '数据更新时间';
comment on column OUTMED_SETL_D.crter_id
  is '创建人ID';
comment on column OUTMED_SETL_D.crter_name
  is '创建人姓名';
comment on column OUTMED_SETL_D.crte_time
  is '数据创建时间';
comment on column OUTMED_SETL_D.crte_optins_no
  is '创建机构编号';
comment on column OUTMED_SETL_D.opter_id
  is '经办人ID';
comment on column OUTMED_SETL_D.opter_name
  is '经办人姓名';
comment on column OUTMED_SETL_D.opt_time
  is '经办时间';
comment on column OUTMED_SETL_D.optins_no
  is '经办机构编号';
comment on column OUTMED_SETL_D.poolarea_no
  is '统筹区编号';
-- Grant/Revoke object privileges 
grant select on OUTMED_SETL_D to DRGSPLATFORM_SQ;
```

整体启用停用

撤销前几月月份可配置

